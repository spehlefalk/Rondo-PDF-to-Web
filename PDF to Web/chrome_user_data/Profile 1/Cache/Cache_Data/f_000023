import{Y as w,W as T,a as J,o as b,az as x,g as k,aB as ce,c as e,e2 as He,fv as Z,fw as me,u as fe,e as R,fM as We,ad as Ge,aK as Ze,U as W,e8 as Ke,r as re,s as q,a3 as Ye,w as Je,b as Xe,j as P,h as u,f as _,ez as oe,i as ne,t as $,eA as Qe,k as z,ah as ie,e1 as ea,aA as aa,af as ue,_ as la,em as ta,g9 as sa,en as ra,eo as oa,l as na,fs as ia,fu as ua,ep as da,f3 as ca}from"./vendor-DP6O45ke.js";import{v as ma}from"./index-DlSjbakU.js";import{_ as fa}from"./SelectLanguage.vue_vue_type_script_setup_true_lang-u3KedFsN.js";import{_ as pa}from"./ArtesaProfilePicture.vue_vue_type_script_setup_true_lang-NQqm-LCY.js";import{_ as va}from"./SelectRole.vue_vue_type_script_setup_true_lang-DGR_GQDZ.js";import{_ as ya}from"./SelectUser.vue_vue_type_script_setup_true_lang-ecQ9vvXJ.js";import{f as ga}from"./FeathersTablePagination.vue_vue_type_style_index_0_lang-BOkRBl1g.js";import{aZ as ha,i as ba,$ as wa,aJ as pe,w as _a,t as Va,a as Ia,d as Ca,G as xa,V as Sa}from"./index-Dsay-W0g.js";import{p as ka}from"./MakeSortable.vue_vue_type_script_setup_true_lang-7zyUd0na.js";import{_ as Ea}from"./ViewUserAbsenceNorms.vue_vue_type_script_setup_true_lang-C6218GeT.js";import{u as Ua}from"./useCompanySettingValue-VN6qEXyo.js";import{u as Pa}from"./hasItemsForCompany.store-B-Xh4q3W.js";import{u as Ta}from"./upload.store-CU1g3nY9.js";import{c as G,u as Aa}from"./validateFormAsync-7W-wrk_Q.js";const K=0,Y=4,Na=s=>{let m=0;return s.split("").forEach(y=>{s.split(y).length>m&&(m=s.split(y).length-1)}),m},$a=s=>{let m=0,y=0,c=0,l=0,p=0;const E=/[^A-Za-z0-9]/g,t=/(.*[a-z].*)/g,f=/(.*[A-Z].*)/g,I=/(.*[0-9].*)/g,V=E.test(s),r=t.test(s),d=f.test(s),v=I.test(s),{length:g}=s;if(g===0)return K;if(g<4)return 1;(r||d)&&v&&(p=1),d&&r&&(l=1),(r||d||v)&&V&&(c=1),g>8&&(y=1);const S=Na(s);return g-S>12&&(y=2),g-S>25&&(y=3),m=y+c+l+p,m<1?1:m>Y?Y:m},Ra=s=>w(()=>{const m=T(s);return $a(m)}),Ba={class:"rounded-full bg-gray-200 relative"},Ma=J({__name:"PasswordStrength",props:{password:{}},setup(s){const m=s,y=Ra(()=>m.password),c=w(()=>{const{value:l}=y,p=(l-K)/(Y-K)*100;return p<0?0:p>100?100:p});return(l,p)=>(b(),x("div",Ba,[k("div",{class:ce([{"bg-red-500":e(c)<40,"bg-yellow-500":e(c)>=40&&e(c)<80,"bg-green-500":e(c)>=80},"rounded-full absolute top-0 left-0 bottom-0 transition-all duration-200"]),style:He({width:`${e(c)}%`})},null,6)]))}}),Oa={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Da=k("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 9l5-5l5 5m-5-5v12"},null,-1),Fa=[Da];function qa(s,m){return b(),x("svg",Oa,Fa)}const za={name:"tabler-upload",render:qa},La=J({__name:"SelectWorkingTimeModel",props:Z({clearable:{type:Boolean,default:!1},size:We,multi:{type:Boolean,default:!1},collapseTags:{type:Boolean,default:!1},showSelectAll:{type:Boolean,default:!1},clearOnSelectAll:{type:Boolean,default:!1},selectByDefault:{type:Boolean,default:!1},loadOn:{type:String,default:void 0},placeholder:{type:String,default:void 0},params:{type:Object,default:void 0},fetchParams:{type:Object,default:void 0}},{modelValue:{default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(s){const m=ha().createScope(),y=me(s,"modelValue"),c=s,{t:l}=fe(),p=ba(),E=w(()=>({...c.params,query:{companyId:p.value,deactivatedAt:null,...c.params?.query,$sort:{order:1,...c.params?.query?.$sort}}})),t=w(()=>{if(c.fetchParams===null)return null;const f=c.fetchParams??c.params;return{...f,query:{companyId:p.value,deactivatedAt:null,...f?.query,$sort:{order:1,...f?.query?.$sort}}}});return(f,I)=>(b(),R(wa,{modelValue:y.value,"onUpdate:modelValue":I[0]||(I[0]=V=>y.value=V),store:e(m),params:e(E),"fetch-params":e(t),limit:100,clearable:s.clearable,"load-on":s.loadOn,"label-field":"name","show-background":"",placeholder:s.placeholder??e(l)("working-time-models.name"),multi:s.multi,size:s.size,"collapse-tags":s.collapseTags,"show-select-all":s.showSelectAll,"clear-on-select-all":s.clearOnSelectAll,"select-by-default":s.selectByDefault},null,8,["modelValue","store","params","fetch-params","clearable","load-on","placeholder","multi","size","collapse-tags","show-select-all","clear-on-select-all","select-by-default"]))}}),ja=s=>{const m=pe().createScope(),{data:y,hasChanges:c,save:l,cancel:p,markForRemove:E}=m.useFeathersItems({localOnly:s.local,limit:2e3,params:w(()=>{const r=T(s.companyId),d=T(s.user);if(!r||d===null)return null;const v={companyId:r};d&&(v.userUuid=d.uuid);const g=T(s.eventType);return g&&(v.eventTypeUuid=g.uuid),{query:v}}),fetchParams:w(()=>{if(s.local)return null;const r=T(s.companyId),d=T(s.user);if(!r||d===null)return null;const v={companyId:r};if(d){if(!d.id)return null;v.userId=d.id}if(s.eventType){const g=T(s.eventType);if(!g.id)return null;v.eventTypeId=g.id}return{query:v}})}),t=w(()=>{const r={};for(const d of y.value){const v=d.userUuid;r[v]||={};const g=d.eventTypeUuid;r[v][g]=d}return r});function f({eventType:r,user:d}){return t.value[d.uuid]?.[r.uuid]}function I({eventType:r,user:d}){const v=f({eventType:r,user:d});V({eventType:r,user:d,isActive:!v})}function V({eventType:r,user:d,isActive:v}){const g=T(s.companyId);if(!g)return;const S=f({eventType:r,user:d});if(!(S&&v||!S&&!v))if(v){const A=m.construct({companyId:g,eventType:r,user:d});s.saveInstantly&&m.save(A)}else s.saveInstantly&&S?.id?m.remove(S):E(S)}return{capabilities:y,toggleCapability:I,setCapability:V,hasChanges:c,save:l,cancel:p,capabilityByUserIdByEventTypeId:t}},Ha=Ge(s=>{const m=_a().createScope(),{data:y}=m.useFind({params:w(()=>{const l=T(s.companyId),p=T(s.types);return!l||!p.length?null:{query:{companyId:l,type:{$in:p},$limit:100}}})}),c=w(()=>y.value.map(l=>l.id));return{roles:y,roleIds:c}}),Wa={class:"flex"},Ga={class:"flex flex-col items-center mb-3"},Za={class:"rounded-full"},Ka={class:"flex-1 ml-4"},Ya={class:"flex items-start gap-3"},Ja={class:"mt-1"},Xa={key:2,class:"@container mb-4"},Qa={class:"mt-4 mb-2 font-bold text-gray-600 flex"},el={class:"flex-1"},al={key:0},ll={class:"grid grid-cols-1 @md:grid-cols-2 @xl:grid-cols-3 @2xl:grid-cols-4 border-t border-l border-gray-200"},tl=["onClick"],sl={class:"mr-auto @3xl:mr-0"},rl={key:4,class:"flex justify-end mt-4 gap-2"},ol={key:0},nl={key:1},Il=J({__name:"FormUser",props:Z({hideBottomButtons:{type:Boolean,default:!1},showCancel:{type:Boolean,default:!1}},{modelValue:{required:!0},modelModifiers:{}}),emits:Z(["saved"],["update:modelValue"]),setup(s,{expose:m,emit:y}){const{can:c}=Ze(),{t:l}=fe(),p=Va().createScope(),E=y,t=me(s,"modelValue"),f=w(()=>t.value.companyId);W(t,(n,a)=>{a&&H()});const I=Ke(ga)?.formRef??re(),V=re(),r=q(new Date),d=q(!1),[v]=Ua("RFIDEnabled",{defaultValue:!1,companyId:f}),g=w(()=>t.value.password||!t.value.id),S=w({get:()=>t.value.password,set:n=>{n?t.value.password=n:"password"in t.value&&delete t.value.password}}),A=q(""),h=w(()=>({user:t.value,verifyPassword:A.value})),ve=(n,a,i)=>{if(t.value?.id&&!a)return i();if(a){if(a.length<8)return i(new Error(l("user.form.PasswordHasToBeAtLeast",{length:8})));if(a.startsWith(" ")||a.endsWith(" "))return i(new Error(l("user.form.PasswordCannotStartOrEndWithSpace")))}else return i(new Error(l("user.form.PleaseProvidePassword")));i()},ye=(n,a,i)=>{if(!g.value)return i();if(a==="")return i(new Error(l("user.form.PleaseRepeatPassword")));if(a!==t.value.password)return i(new Error(l("user.form.PasswordsDontMatch")));i()},ge=G(async(n,a)=>{if(!a)return;const i=await p.service.find({query:{companyId:f.value,rfid:a,...t.value.id?{id:{$ne:t.value.id}}:{},$limit:1,$select:["id","fullName","email"]}}),[C]=Array.isArray(i)?i:"data"in i?i.data:[i];if(C)throw l("user.form.RfidAlreadyTakenBy",{user:C.fullName||C.email})}),he=G(async(n,a)=>{if(!a)return;const i=await p.service.find({query:{companyId:f.value,staffNumber:a,...t.value.id?{id:{$ne:t.value.id}}:{},$limit:1,$select:["id","fullName","email"]}}),[C]=Array.isArray(i)?i:"data"in i?i.data:[i];if(C)throw l("user.form.StaffNumberAlreadyTakenBy",{user:C.fullName||C.email})}),be=G(async(n,a)=>{if(!a)return;const i=await p.service.find({query:{companyId:f.value,email:a,...t.value.id?{id:{$ne:t.value.id}}:{},$limit:1,$select:["id","fullName","email"]}}),[C]=Array.isArray(i)?i:"data"in i?i.data:[i];if(C)throw l("user.form.EmailAlreadyTakenBy",{user:C.fullName||C.email})}),we=Ye({"user.fullName":[{required:!0,message:l("validation.PleaseEnterValue"),trigger:"blur"}],"user.email":[{type:"email",required:!0,message:l("validation.PleaseEnterValidEmail"),trigger:["blur","change"]},{validator:be,trigger:["blur","change"]}],"user.password":[{validator:ve,trigger:["blur","change"]}],verifyPassword:[{validator:ye,trigger:["blur","change"]}],"user.roleId":[{required:!0,message:l("validation.PleaseEnterValue"),trigger:"change"}],"user.staffNumber":[{validator:he,trigger:["blur","change"]}],"user.rfid":[{validator:ge,trigger:["blur","change"]}]}),j=q(null),_e=Ia(),Ve=w(()=>!!t.value?.id),Ie=Ca();W(()=>t.value?.rfid,n=>{t.value&&!n&&n!==null&&(t.value.rfid=null)});function X(){A.value="",I.value?.clearValidate("verifyPassword")}W(()=>t.value,()=>{X()}),Je(()=>!t.value?.password,()=>{X()});const Ce=xa().createScope(),{data:M}=Ce.useFind({params:w(()=>({query:{companyId:f.value,$sort:{order:1}}}))}),{capabilityByUserIdByEventTypeId:O,cancel:xe,hasChanges:Se,save:ke,setCapability:Ee,toggleCapability:Ue}=ja({companyId:f,user:t}),Pe=w(()=>{const n=O.value[t.value?.uuid];return!!Object.values(n||{}).length}),Te=w(()=>{const n=O.value[t.value?.uuid];return Object.values(n||{}).length===M.value.length}),D=pe();function Q(n){c("update",D.servicePath)&&Ee(n)}function Ae(n){c("update",D.servicePath)&&Ue(n)}function ee(n){M.value.forEach(a=>{Q({user:t.value,eventType:a,isActive:n})})}const ae=w(()=>!!p.hasChanges(t.value)||Se.value||!!V.value?.hasChanges),{validateAsync:Ne}=Aa(I);function H(){p.resetOrRemove(t.value),xe(),V.value?.reset()}const{execute:le,isLoading:te}=Sa(async()=>{await Ne().catch(n=>{throw ue({title:t.value?.id?l("user.form.couldNotSaveUser"):l("user.form.couldNotCreateUser"),message:l("user.form.couldNotCreateUserExplanation"),type:"error"}),n}),await p.save(t.value),await la(),await Promise.all([ke(),V.value?.save()]),E("saved",t.value)}),{roles:$e}=Ha({companyId:f,types:["office","admin","superadmin"]}),Re=w(()=>({query:{companyId:f.value,...!!t.value?.id&&{id:{$ne:t.value.id}},roleId:{$in:$e.value.map(a=>a.id)}}}));function Be(n){return I.value?.validate((a,i)=>{a||ue({title:l("user.form.couldNotCreateUser"),message:l("user.form.couldNotCreateUserExplanation"),type:"error"}),n?.(a,i)})}const Me=Pa().useHasItems("working-time-models"),{isUploading:Oe,openDialog:De}=Ta().useUpload({multiple:!1,service:"users",allowedMimeTypes:["image/jpeg","image/png"],serviceId:w(()=>t.value.id),imageResizeTargetHeight:200,imageResizeTargetWidth:200,onFileUploaded:n=>{t.value.profilePictureId=n.id}});return m({cancel:H,save:le,validate:Be,hasChanges:ae}),(n,a)=>{const i=ta,C=sa,N=ra,U=oa,se=Xe("font-awesome-icon"),F=na,Fe=ia,qe=ca,ze=ua,Le=da;return b(),x(ie,null,[e(j)?(b(),R(i,{key:0,title:e(j).name,description:e(j).message,type:"error",class:"mb-4"},null,8,["title","description"])):P("",!0),u(Le,{ref_key:"formRef",ref:I,model:e(h),rules:e(we),"label-position":e(Ie).lg?"left":"top","label-width":"150px","hide-required-asterisk":""},{default:_(()=>[k("div",Wa,[k("div",Ga,[oe((b(),x("div",Za,[u(pa,{user:t.value,size:"xl",class:"relative m-0.5","disable-tooltip":""},{default:_(()=>[t.value.id?oe((b(),x("div",{key:0,class:"absolute bg-black/50 inset-0 flex flex-col items-center justify-center cursor-pointer text-xs text-white",onClick:a[0]||(a[0]=()=>e(De)())},[u(e(za),{class:"h-8 w-8"}),ne(" "+$(e(l)("actions.upload")),1)],512)),[[Qe,e(d)||e(Oe)]]):P("",!0)]),_:1},8,["user"])])),[[e(ma),o=>d.value=o]]),t.value.profilePictureId?(b(),x("div",{key:0,class:"text-xs underline text-blue-700 mt-2 cursor-pointer",onClick:a[1]||(a[1]=()=>{t.value.profilePicture=null,t.value.profilePictureId=null})},$(e(l)("actions.remove")),1)):P("",!0)]),k("div",Ka,[k("div",Ya,[k("div",Ja,[u(C,{modelValue:t.value.color,"onUpdate:modelValue":a[2]||(a[2]=o=>t.value.color=o),predefine:e(ka)},null,8,["modelValue","predefine"])]),u(U,{prop:"user.fullName","label-width":"0",class:"w-full"},{default:_(()=>[u(N,{modelValue:t.value.fullName,"onUpdate:modelValue":a[3]||(a[3]=o=>t.value.fullName=o),placeholder:e(l)("user.property.fullName"),size:"large",class:"flex-1 inline-edit !text-xl"},null,8,["modelValue","placeholder"])]),_:1})]),u(N,{modelValue:t.value.shortName,"onUpdate:modelValue":a[4]||(a[4]=o=>t.value.shortName=o),placeholder:e(l)("user.property.shortName"),size:"small",class:"inline-edit"},null,8,["modelValue","placeholder"])])]),u(U,{label:e(l)("user.property.email")+":",prop:"user.email"},{default:_(()=>[u(N,{modelValue:e(h).user.email,"onUpdate:modelValue":a[5]||(a[5]=o=>e(h).user.email=o),placeholder:e(l)("user.property.email"),type:"text"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),u(U,{label:e(l)("user.property.password")+":",prop:"user.password"},{default:_(()=>[u(N,{modelValue:e(S),"onUpdate:modelValue":a[6]||(a[6]=o=>z(S)?S.value=o:null),placeholder:e(l)("user.property.password"),type:"password","show-password":""},null,8,["modelValue","placeholder"]),e(h).user.password?(b(),R(Ma,{key:0,password:e(h).user.password,class:"h-1 -mt-1 ml-0.5 mr-0.5 w-full"},null,8,["password"])):P("",!0)]),_:1},8,["label"]),e(g)?(b(),R(U,{key:0,label:e(l)("user.form.verifyPassword")+":",prop:"verifyPassword","label-width":"150px"},{default:_(()=>[u(N,{modelValue:e(A),"onUpdate:modelValue":a[7]||(a[7]=o=>z(A)?A.value=o:null),placeholder:e(l)("user.form.repeatPassword"),type:"password","show-password":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):P("",!0),u(U,{label:e(l)("user.property.staffNumber")+":",prop:"user.staffNumber"},{default:_(()=>[u(N,{modelValue:e(h).user.staffNumber,"onUpdate:modelValue":a[8]||(a[8]=o=>e(h).user.staffNumber=o),placeholder:e(l)("user.property.staffNumber"),disabled:!n.$can("update",e(h).user,"staffNumber"),type:"text"},null,8,["modelValue","placeholder","disabled"])]),_:1},8,["label"]),e(v)?(b(),R(U,{key:1,label:e(l)("user.property.rfid")+":",prop:"user.rfid"},{default:_(()=>[u(N,{modelValue:e(h).user.rfid,"onUpdate:modelValue":a[9]||(a[9]=o=>e(h).user.rfid=o),placeholder:e(l)("user.property.rfid"),type:"text"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):P("",!0),u(U,{label:e(l)("role.name")+":",prop:"user.roleId","validation-options":{},"label-width":"150px"},{default:_(()=>[u(va,{modelValue:e(h).user.role,"onUpdate:modelValue":a[10]||(a[10]=o=>e(h).user.role=o),"company-id":e(f),disabled:!e(_e)||!e(c)("update",e(h).user,"roleId"),class:"w-full"},null,8,["modelValue","company-id","disabled"])]),_:1},8,["label"]),e(M).length?(b(),x("div",Xa,[k("div",Qa,[k("div",el,$(e(l)("user-capabilities.name",2))+":",1),e(c)("update",e(D).servicePath)?(b(),x("div",al,[u(Fe,null,{default:_(()=>[u(F,{disabled:!e(Pe),size:"small",onClick:a[11]||(a[11]=()=>ee(!1))},{default:_(()=>[u(se,{icon:"times"})]),_:1},8,["disabled"]),u(F,{disabled:e(Te),size:"small",onClick:a[12]||(a[12]=()=>ee(!0))},{default:_(()=>[u(se,{icon:"check"})]),_:1},8,["disabled"])]),_:1})])):P("",!0)]),k("div",ll,[(b(!0),x(ie,null,ea(e(M),o=>(b(),x("div",{key:o.uuid,class:ce(["flex-1 flex items-center flex-row border-r border-b border-gray-200 py-1 px-3",[e(O)[t.value.uuid]?.[o.uuid]?"bg-primary/10 text-gray-800":"bg-white text-gray-500"]])},[k("div",{class:"flex-1 flex text-sm w-full overflow-hidden text-ellipsis whitespace-nowrap cursor-pointer",onClick:()=>Ae({user:t.value,eventType:o})},$(o.name),9,tl),k("div",sl,[u(qe,{disabled:!e(c)("update",e(D).servicePath),"model-value":!!e(O)[t.value.uuid]?.[o.uuid],"onUpdate:modelValue":je=>Q({user:t.value,eventType:o,isActive:!!je})},null,8,["disabled","model-value","onUpdate:modelValue"])])],2))),128))])])):P("",!0),u(U,{label:e(l)("forms.user.Supervisor")+":",prop:"user.supervisorId"},{default:_(()=>[u(ya,{modelValue:e(h).user.supervisor,"onUpdate:modelValue":a[13]||(a[13]=o=>e(h).user.supervisor=o),disabled:!n.$can("update",e(h).user,"supervisorId"),placeholder:e(l)("forms.user.Supervisor"),class:"w-full",params:e(Re)},null,8,["modelValue","disabled","placeholder","params"])]),_:1},8,["label"]),u(U,{label:e(l)("forms.user.language")+":"},{default:_(()=>[u(fa,{modelValue:e(h).user.language,"onUpdate:modelValue":a[14]||(a[14]=o=>e(h).user.language=o),clearable:"",class:"w-full"},null,8,["modelValue"])]),_:1},8,["label"]),e(Me)?(b(),R(U,{key:3,label:e(l)("working-time-models.name")+":"},{default:_(()=>[u(La,{modelValue:e(h).user.workingTimeModel,"onUpdate:modelValue":a[15]||(a[15]=o=>e(h).user.workingTimeModel=o),disabled:!n.$can("update",e(h).user,"workingTimeModelId"),clearable:""},null,8,["modelValue","disabled"])]),_:1},8,["label"])):P("",!0),u(U,{label:e(l)("userAbsence.norms")+":"},{default:_(()=>[u(ze,{modelValue:e(r),"onUpdate:modelValue":a[16]||(a[16]=o=>z(r)?r.value=o:null),type:"year",clearable:!1,class:"self-center !w-[85px] show-icon"},null,8,["modelValue"])]),_:1},8,["label"]),u(Ea,{ref_key:"normRef",ref:V,year:e(r),"onUpdate:year":a[17]||(a[17]=o=>z(r)?r.value=o:null),"tab-is-active":!1,user:t.value,"handle-save-externally":""},null,8,["year","user"]),!s.hideBottomButtons&&e(ae)?(b(),x("div",rl,[aa(n.$slots,"bottom-buttons"),s.showCancel?(b(),R(F,{key:0,onClick:H},{default:_(()=>[ne($(e(l)("actions.Cancel")),1)]),_:1})):P("",!0),u(F,{type:"primary",loading:e(te),disabled:e(te),onClick:e(le)},{default:_(()=>[e(Ve)?(b(),x("span",ol,$(e(l)("actions.Save")),1)):(b(),x("span",nl,$(e(l)("actions.Register")),1))]),_:1},8,["loading","disabled","onClick"])])):P("",!0)]),_:3},8,["model","rules","label-position"])],64)}}});var L={VITE_HOST_URL:"https://api.artesa.de",VITE_GOOGLE_MAPS_API_KEY:"AIzaSyBHjqhHTvo8BgnhDCfPPykjDoHLvZNu14I",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const B=new Intl.RelativeTimeFormat(L.VITE_I18N_LOCALE||"de",{style:"long"}),il=new Intl.DateTimeFormat(L.VITE_I18N_LOCALE||"de",{day:"2-digit",month:"2-digit",year:"numeric"}),Cl=new Intl.DateTimeFormat(L.VITE_I18N_LOCALE||"de",{timeStyle:"short",dateStyle:"short"}),de=new Intl.ListFormat(L.VITE_I18N_LOCALE||"de",{style:"short",type:"conjunction"});function xl(s,m=!1,y,c=new Date){const l=c-s,p=60*60*24*1e3,E=60*60*1e3,t=60*1e3,f=l>0?-1:1;if(Math.abs(l)>p)return il.format(s);{const I=Math.floor(Math.abs(l)/E),V=Math.floor(Math.abs(l)/E*60);if(Math.abs(l)>E){const r=[B.format(f*I,"hours")];if(V>0){const[d,v,g]=B.formatToParts(f*(V-I*60),"minutes");r.push(`${v.value}${g.value}`)}return de.format(r)}else{let r=Math.floor(Math.abs(l)/t*60);if(m){if(r<60||y&&r<y)return B.format(f*r,"seconds");{r-=V*60;const d=[B.format(f*V,"minutes")];return r>0&&d.push(B.format(f*r,"seconds")),de.format(d)}}else return B.format(f*V,"minutes")}}}export{Il as _,Cl as d,xl as f,ja as u};
