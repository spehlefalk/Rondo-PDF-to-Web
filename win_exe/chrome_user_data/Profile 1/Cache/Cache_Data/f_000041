const __vite__fileDeps=["assets/AssignmentAssignNotification-B1L_ba3X.js","assets/assignment-doing-path-BD-I3HoY.js","assets/vendor-CJXdOFCa.js","assets/vendor-jIhZnUxc.css","assets/index-M8nwXBBi.js","assets/index-Cpd7lwzu.css","assets/useAssignmentNameToShow-CT9dDVHV.js","assets/AssignmentUnassignNotification-BIwJgNGp.js","assets/AssignmentStartsAtChangedNotification-DOVmqtkp.js","assets/formatRelativeTime-BOQkbZmf.js","assets/index-CAbXtJ5f.js","assets/SelectLanguage.vue_vue_type_script_setup_true_lang-CHojjjlo.js","assets/ArtesaProfilePicture.vue_vue_type_script_setup_true_lang-CvX_tVhj.js","assets/ArtesaTooltip-CzaCLuSr.js","assets/index.browser-DP16PUbO.js","assets/ArtesaTooltip-DtacCa5U.css","assets/index-C4Rzlq_k.js","assets/SelectRole.vue_vue_type_script_setup_true_lang-ERmElk75.js","assets/FeathersSelectAutocomplete.vue_vue_type_style_index_0_lang-D553730i.js","assets/addLiteralPercentage-DRqvLqOk.js","assets/FeathersSelectAutocomplete-DijEPAxR.css","assets/SelectUser.vue_vue_type_script_setup_true_lang-81euLzTY.js","assets/FeathersTablePagination.vue_vue_type_style_index_0_lang-DDfA-nHC.js","assets/index-DX0mSCHG.js","assets/GridTableColumn.vue_vue_type_script_setup_true_lang-BayDfMSt.js","assets/GridTableColumn-BGrcamLo.css","assets/MakeSortable.vue_vue_type_script_setup_true_lang-DJUGCLh6.js","assets/usePagination-Cs_oXynH.js","assets/FeathersTablePagination-BvXyPM5N.css","assets/ViewUserAbsenceNorms.vue_vue_type_script_setup_true_lang-BGxrj7i1.js","assets/SelectAbsenceType.vue_vue_type_script_setup_true_lang-q5Oe291l.js","assets/AbsenceTypeTag.vue_vue_type_script_setup_true_lang-T5-HFkFp.js","assets/useIsUserOfRole-BciEmr9Y.js","assets/useRole-B2COsB3X.js","assets/useCalculatedAbsenceNorms-Dp-lEbch.js","assets/useCompanySettingValue-DJ6odCGL.js","assets/hasItemsForCompany.store-D65GIO8M.js","assets/upload.store-BC_PBlNG.js","assets/validateFormAsync-7W-wrk_Q.js","assets/AbsenceRequiresCompensationNotification-b1whyZy8.js","assets/AbsenceCompensationApprovedNotification-CvQpWAVp.js","assets/AbsenceCompensationDeclinedNotification-a1tKh9Q_.js","assets/AbsenceApprovedNotification--atpIK26.js","assets/AbsenceDeclinedNotification-Dtupsx4w.js","assets/AbsenceRequiresApproveNotification-TSHi6pJf.js","assets/user-absences.helpers-C55N6n0p.js","assets/colorHelpers-D-IKRuV7.js","assets/TimeSheetDaySubmittedNotification-0qpFiKNu.js","assets/shared-DBN7Ac9_.js","assets/TimeSheetDayDeclinedNotification-DGQj-Wf6.js","assets/TimeSheetDayApprovedNotification-Bp8G4A5q.js","assets/TimeSheetMonthSubmittedNotification-DNpZalnR.js","assets/index-zBlMUfmj.js","assets/TimeSheetMonthApprovedNotification-B0MDIGEE.js","assets/TimeSheetMonthDeclinedNotification-Z5I1fnkH.js","assets/TimeSheetWeekSubmittedNotification-BHUnctkv.js","assets/index-DrhtfMdY.js","assets/index-B3z-Az2g.js","assets/TimeSheetWeekApprovedNotification-Ba0KGwgD.js","assets/TimeSheetWeekDeclinedNotification-DPznjE9o.js","assets/UnknownNotification-D3AIM32N.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{e as ve,o as ie,p as Se,_ as p,q as Ee,a as ne,r as Z,s as ge,v as X,t as he}from"./index-M8nwXBBi.js";import{a as F,u as oe,Z as l,Y as be,c as t,o as r,aC as g,g as x,t as U,h as o,f as u,k as S,j as N,eh as Ae,eM as ae,e1 as Ve,e2 as Te,eJ as Ie,e as I,ek as De,aF as d,eN as Pe,eO as Ce,s as Ne,V as ee,eP as ye,b as $e,aj as j,e6 as Q,es as we,l as ke,eq as Oe,eQ as Re,eR as Ue,eS as Le,i as Me,er as Be,eT as He,eU as Fe,eV as xe,eW as Ge}from"./vendor-CJXdOFCa.js";import{f as te,_ as ze}from"./formatRelativeTime-BOQkbZmf.js";import{u as je}from"./notification.store-BXpKQZ81.js";import{u as Qe}from"./usePagination-Cs_oXynH.js";import{_ as We}from"./ViewTitle.vue_vue_type_script_setup_true_lang-jbaBK0gh.js";import"./index-CAbXtJ5f.js";import"./SelectLanguage.vue_vue_type_script_setup_true_lang-CHojjjlo.js";import"./ArtesaProfilePicture.vue_vue_type_script_setup_true_lang-CvX_tVhj.js";import"./ArtesaTooltip-CzaCLuSr.js";import"./index.browser-DP16PUbO.js";import"./index-C4Rzlq_k.js";import"./SelectRole.vue_vue_type_script_setup_true_lang-ERmElk75.js";import"./FeathersSelectAutocomplete.vue_vue_type_style_index_0_lang-D553730i.js";import"./addLiteralPercentage-DRqvLqOk.js";import"./SelectUser.vue_vue_type_script_setup_true_lang-81euLzTY.js";import"./FeathersTablePagination.vue_vue_type_style_index_0_lang-DDfA-nHC.js";import"./index-DX0mSCHG.js";import"./GridTableColumn.vue_vue_type_script_setup_true_lang-BayDfMSt.js";import"./MakeSortable.vue_vue_type_script_setup_true_lang-DJUGCLh6.js";import"./ViewUserAbsenceNorms.vue_vue_type_script_setup_true_lang-BGxrj7i1.js";import"./SelectAbsenceType.vue_vue_type_script_setup_true_lang-q5Oe291l.js";import"./AbsenceTypeTag.vue_vue_type_script_setup_true_lang-T5-HFkFp.js";import"./useIsUserOfRole-BciEmr9Y.js";import"./useRole-B2COsB3X.js";import"./useCalculatedAbsenceNorms-Dp-lEbch.js";import"./useCompanySettingValue-DJ6odCGL.js";import"./hasItemsForCompany.store-D65GIO8M.js";import"./upload.store-BC_PBlNG.js";import"./validateFormAsync-7W-wrk_Q.js";const qe={key:0},Ke={class:"mb-2"},Je={key:0,class:"text-xs text-red-600"},Ye={key:1,class:"flex w-full h-9"},Ze=F({__name:"UserSettings",props:{user:{}},setup(y){const b=y,{t:h}=oe(),A=ve(),f=ie().createScope(),V=Se(),{data:e}=f.useGet({id:l(()=>b.user.id),lazy:!0}),E=f.useHasChanges(e);be(E,async i=>{i&&e.value&&await f.save(e.value)},{debounce:250});const D=l({get(){return e.value?.notifications?.absences?.inApp??!0},set(i){e.value&&(e.value.notifications??={},e.value.notifications.absences??={},e.value.notifications.absences.inApp=i)}}),T=l({get(){return e.value?.notifications?.absences?.push??!1},set(i){e.value&&(e.value.notifications??={},e.value.notifications.absences??={},e.value.notifications.absences.push=i)}}),$=l({get(){return e.value?.notifications?.assignments?.inApp??!0},set(i){e.value&&(e.value.notifications??={},e.value.notifications.assignments??={},e.value.notifications.assignments.inApp=i)}}),P=l({get(){return e.value?.notifications?.assignments?.push??!1},set(i){e.value&&(e.value.notifications??={},e.value.notifications.assignments??={},e.value.notifications.assignments.push=i)}}),L=l({get(){return e.value?.notifications?.deadlineChange?.inApp??!0},set(i){e.value&&(e.value.notifications??={},e.value.notifications.deadlineChange??={},e.value.notifications.deadlineChange.inApp=i)}}),m=l({get(){return e.value?.notifications?.deadlineChange?.push??!1},set(i){e.value&&(e.value.notifications??={},e.value.notifications.deadlineChange??={},e.value.notifications.deadlineChange.push=i)}}),k=l({get(){return e.value?.notifications?.timeSheetSubmitted?.inApp??!0},set(i){e.value&&(e.value.notifications??={},e.value.notifications.timeSheetSubmitted??={},e.value.notifications.timeSheetSubmitted.inApp=i)}}),M=l({get(){return e.value?.notifications?.timeSheetSubmitted?.push??!1},set(i){e.value&&(e.value.notifications??={},e.value.notifications.timeSheetSubmitted??={},e.value.notifications.timeSheetSubmitted.push=i)}}),B=l({get(){return e.value?.notifications?.timeSheetApproved?.inApp??!0},set(i){e.value&&(e.value.notifications??={},e.value.notifications.timeSheetApproved??={},e.value.notifications.timeSheetApproved.inApp=i)}}),O=l({get(){return e.value?.notifications?.timeSheetApproved?.push??!1},set(i){e.value&&(e.value.notifications??={},e.value.notifications.timeSheetApproved??={},e.value.notifications.timeSheetApproved.push=i)}}),R=l({get(){return e.value?.notifications?.timeSheetDeclined?.inApp??!0},set(i){e.value&&(e.value.notifications??={},e.value.notifications.timeSheetDeclined??={},e.value.notifications.timeSheetDeclined.inApp=i)}}),w=l({get(){return e.value?.notifications?.timeSheetDeclined?.push??!1},set(i){e.value&&(e.value.notifications??={},e.value.notifications.timeSheetDeclined??={},e.value.notifications.timeSheetDeclined.push=i)}});return(i,a)=>{const _=ae,C=Ve,G=Te,H=Ie;return t(e)?(r(),g("div",qe,[x("div",Ke,U(t(h)("notifications.name",2))+":",1),o(G,{"label-width":"225px","label-position":t(A).sm?"left":"top"},{default:u(()=>[o(C,{label:`${i.$t("user.notificationSettings.absences")}:`},{default:u(()=>[o(_,{modelValue:t(D),"onUpdate:modelValue":a[0]||(a[0]=s=>S(D)?D.value=s:null),label:i.$t("user.notificationSettings.inApp"),class:"!mr-2",border:""},null,8,["modelValue","label"]),o(_,{modelValue:t(T),"onUpdate:modelValue":a[1]||(a[1]=s=>S(T)?T.value=s:null),label:i.$t("user.notificationSettings.push"),border:""},null,8,["modelValue","label"])]),_:1},8,["label"]),o(C,{label:`${i.$t("user.notificationSettings.assignments")}:`},{default:u(()=>[o(_,{modelValue:t($),"onUpdate:modelValue":a[2]||(a[2]=s=>S($)?$.value=s:null),label:i.$t("user.notificationSettings.inApp"),class:"!mr-2",border:""},null,8,["modelValue","label"]),o(_,{modelValue:t(P),"onUpdate:modelValue":a[3]||(a[3]=s=>S(P)?P.value=s:null),label:i.$t("user.notificationSettings.push"),border:""},null,8,["modelValue","label"])]),_:1},8,["label"]),o(C,{label:`${i.$t("user.notificationSettings.deadlineChange")}:`},{default:u(()=>[o(_,{modelValue:t(L),"onUpdate:modelValue":a[4]||(a[4]=s=>S(L)?L.value=s:null),label:i.$t("user.notificationSettings.inApp"),class:"!mr-2",border:""},null,8,["modelValue","label"]),o(_,{modelValue:t(m),"onUpdate:modelValue":a[5]||(a[5]=s=>S(m)?m.value=s:null),label:i.$t("user.notificationSettings.push"),border:""},null,8,["modelValue","label"])]),_:1},8,["label"]),o(C,{label:`${i.$t("user.notificationSettings.timeSheetSubmitted")}:`},{default:u(()=>[o(_,{modelValue:t(k),"onUpdate:modelValue":a[6]||(a[6]=s=>S(k)?k.value=s:null),label:i.$t("user.notificationSettings.inApp"),class:"!mr-2",border:""},null,8,["modelValue","label"]),o(_,{modelValue:t(M),"onUpdate:modelValue":a[7]||(a[7]=s=>S(M)?M.value=s:null),label:i.$t("user.notificationSettings.push"),border:""},null,8,["modelValue","label"])]),_:1},8,["label"]),o(C,{label:`${i.$t("user.notificationSettings.timeSheetApproved")}:`},{default:u(()=>[o(_,{modelValue:t(B),"onUpdate:modelValue":a[8]||(a[8]=s=>S(B)?B.value=s:null),label:i.$t("user.notificationSettings.inApp"),class:"!mr-2",border:""},null,8,["modelValue","label"]),o(_,{modelValue:t(O),"onUpdate:modelValue":a[9]||(a[9]=s=>S(O)?O.value=s:null),label:i.$t("user.notificationSettings.push"),border:""},null,8,["modelValue","label"])]),_:1},8,["label"]),o(C,{label:`${i.$t("user.notificationSettings.timeSheetDeclined")}:`},{default:u(()=>[o(_,{modelValue:t(R),"onUpdate:modelValue":a[10]||(a[10]=s=>S(R)?R.value=s:null),label:i.$t("user.notificationSettings.inApp"),class:"!mr-2",border:""},null,8,["modelValue","label"]),o(_,{modelValue:t(w),"onUpdate:modelValue":a[11]||(a[11]=s=>S(w)?w.value=s:null),label:i.$t("user.notificationSettings.push"),border:""},null,8,["modelValue","label"])]),_:1},8,["label"])]),_:1},8,["label-position"]),t(V).hasPushNotificationPermissions===!1?(r(),g("div",Je,U(i.$t("user-settings.webPushPermissionsMissing")),1)):N("",!0)])):Ae((r(),g("div",Ye,null,512)),[[H,!0]])}}}),Xe={ASSIGNMENT_ASSIGN:d(()=>p(()=>import("./AssignmentAssignNotification-B1L_ba3X.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),ASSIGNMENT_UNASSIGN:d(()=>p(()=>import("./AssignmentUnassignNotification-BIwJgNGp.js"),__vite__mapDeps([7,1,2,3,4,5]))),ASSIGNMENT_STARTSAT_CHANGED:d(()=>p(()=>import("./AssignmentStartsAtChangedNotification-DOVmqtkp.js"),__vite__mapDeps([8,1,2,3,9,10,11,12,4,5,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38]))),ABSENCE_REQUIRES_COMPENSATION:d(()=>p(()=>import("./AbsenceRequiresCompensationNotification-b1whyZy8.js"),__vite__mapDeps([39,4,2,3,5]))),ABSENCE_COMPENSATION_APPROVED:d(()=>p(()=>import("./AbsenceCompensationApprovedNotification-CvQpWAVp.js"),__vite__mapDeps([40,4,2,3,5]))),ABSENCE_COMPENSATION_DECLINED:d(()=>p(()=>import("./AbsenceCompensationDeclinedNotification-a1tKh9Q_.js"),__vite__mapDeps([41,4,2,3,5]))),ABSENCE_APPROVED:d(()=>p(()=>import("./AbsenceApprovedNotification--atpIK26.js"),__vite__mapDeps([42,4,2,3,5]))),ABSENCE_DECLINED:d(()=>p(()=>import("./AbsenceDeclinedNotification-Dtupsx4w.js"),__vite__mapDeps([43,4,2,3,5]))),ABSENCE_REQUIRES_APPROVE:d(()=>p(()=>import("./AbsenceRequiresApproveNotification-TSHi6pJf.js"),__vite__mapDeps([44,4,2,3,5,45,46,16]))),TIME_SHEET_SUBMITTED:d(()=>p(()=>import("./TimeSheetDaySubmittedNotification-0qpFiKNu.js"),__vite__mapDeps([47,2,3,4,5,48]))),TIME_SHEET_DECLINED:d(()=>p(()=>import("./TimeSheetDayDeclinedNotification-DGQj-Wf6.js"),__vite__mapDeps([49,2,3,48,4,5]))),TIME_SHEET_APPROVED:d(()=>p(()=>import("./TimeSheetDayApprovedNotification-Bp8G4A5q.js"),__vite__mapDeps([50,2,3,48,4,5]))),TIME_SHEET_MONTH_SUBMITTED:d(()=>p(()=>import("./TimeSheetMonthSubmittedNotification-DNpZalnR.js"),__vite__mapDeps([51,2,3,52,4,5,48]))),TIME_SHEET_MONTH_APPROVED:d(()=>p(()=>import("./TimeSheetMonthApprovedNotification-B0MDIGEE.js"),__vite__mapDeps([53,2,3,52,4,5,48]))),TIME_SHEET_MONTH_DECLINED:d(()=>p(()=>import("./TimeSheetMonthDeclinedNotification-Z5I1fnkH.js"),__vite__mapDeps([54,2,3,52,4,5,48]))),TIME_SHEET_SUBMITTED_WEEK:d(()=>p(()=>import("./TimeSheetWeekSubmittedNotification-BHUnctkv.js"),__vite__mapDeps([55,56,2,3,57,4,5,48]))),TIME_SHEET_APPROVED_WEEK:d(()=>p(()=>import("./TimeSheetWeekApprovedNotification-Ba0KGwgD.js"),__vite__mapDeps([58,56,2,3,57,48,4,5]))),TIME_SHEET_DECLINED_WEEK:d(()=>p(()=>import("./TimeSheetWeekDeclinedNotification-DPznjE9o.js"),__vite__mapDeps([59,56,2,3,57,48,4,5])))},et=d(()=>p(()=>import("./UnknownNotification-D3AIM32N.js"),__vite__mapDeps([60,2,3]))),tt=F({__name:"NotificationSwitch",props:{notification:{}},setup(y){const b=y,h=l(()=>Xe[b.notification.type]||et);return(A,f)=>(r(),I(De(t(h)),{notification:A.notification},null,8,["notification"]))}}),it={class:"pt-2"},nt={key:0,class:"absolute -top-1.5 -right-1 w-3 h-3 rounded-full bg-danger border border-white z-50"},ot={key:1,class:"text-sm flex items-center justify-center p-2 text-gray-600"},at={key:1,class:"text-xs pt-3 text-gray-500"},st=F({__name:"ViewNotifications",props:{user:{},isActive:{type:Boolean,default:!1}},setup(y){const b=y,h=je(),A=Ee().createScope(),{t:f}=oe();h.useActivityWatcher();const{lastNotificationsView:V,count:e}=Pe(h),E=Ce({interval:1e3});function D(n){return l(()=>te(n,!1,void 0,E.value))}const T=l(()=>V.value?te(V.value,!0,5*60,E.value):""),$=ie().createScope(),{data:P}=$.useGet({id:l(()=>b.user.id),lazy:!0}),L=l(()=>[{text:f("user.notificationSettings.absences"),value:"absences"},{text:f("user.notificationSettings.assignments"),value:"assignments"},{text:f("user.notificationSettings.deadlineChange"),value:"deadlineChange"},{text:f("user.notificationSettings.timeSheetSubmitted"),value:"timeSheetSubmitted"},{text:f("user.notificationSettings.timeSheetApproved"),value:"timeSheetApproved"},{text:f("user.notificationSettings.timeSheetDeclined"),value:"timeSheetDeclined"}]),m=Ne([]),k=l(()=>{const n=P.value?.notifications,c=[];return(n?.absences?.inApp||n?.absences?.inApp===void 0)&&c.push("absences"),(n?.assignments?.inApp||n?.assignments?.inApp===void 0)&&c.push("assignments"),(n?.deadlineChange?.inApp||n?.deadlineChange?.inApp===void 0)&&c.push("deadlineChange"),(n?.timeSheetSubmitted?.inApp||n?.timeSheetSubmitted?.inApp===void 0)&&c.push("timeSheetSubmitted"),(n?.timeSheetApproved?.inApp||n?.timeSheetApproved?.inApp===void 0)&&c.push("timeSheetApproved"),(n?.timeSheetDeclined?.inApp||n?.timeSheetDeclined?.inApp===void 0)&&c.push("timeSheetDeclined"),c});ee([k,P],([n,c])=>{(n||c)&&(m.value=n)},{immediate:!0,deep:!0});function M(n){O.value.includes(n)?m.value=m.value.filter(c=>c!==n):m.value=[...m.value,n]}const B=l(()=>m.value.length!==k.value.length),O=l(()=>{const n=[];return m.value.includes("absences")&&n.push("absences"),m.value.includes("assignments")&&n.push("assignments"),m.value.includes("deadlineChange")&&n.push("deadlineChange"),m.value.includes("timeSheetSubmitted")&&n.push("timeSheetSubmitted"),m.value.includes("timeSheetApproved")&&n.push("timeSheetApproved"),m.value.includes("timeSheetDeclined")&&n.push("timeSheetDeclined"),n}),R=l(()=>{const n=[];for(const c in Z)O.value.includes(Z[c])&&n.push(c);return{type:{$in:n}}}),w=ne(),i=ye(),a=l(()=>i.value&&b.isActive),_=20,{params:C,applyPagination:G}=Qe({limit:_,params:l(()=>w.value?{query:{$sort:{createdAt:-1},...R.value,forUserId:{$in:[w.value?.id,null]},companyId:{$in:[w.value?.companyId,null]}},debounceTime:50}:null)}),{data:H,isPending:s,total:W}=A.useFeathersItems({params:C,resultFrom:"server",reevaluateAfter:["created"]}),{toPage:se,currentPage:z,pageCount:le,next:ue,prev:re}=G(W);return ee(R,()=>{se(0)}),(n,c)=>{const q=$e("font-awesome-icon"),pe=ke,de=ae,me=Be,ce=Oe,K=He,J=Fe,Y=Re,fe=Ue,_e=Le;return r(),g("div",it,[t(a)?(r(),I(we,{key:0,to:"#after-title"},[o(ce,{"hide-on-click":!1},{dropdown:u(()=>[(r(!0),g(j,null,Q(t(L),v=>(r(),I(me,{key:v.value},{default:u(()=>[o(de,{"model-value":t(m).includes(v.value),onChange:()=>M(v.value)},{default:u(()=>[Me(U(v.text),1)]),_:2},1032,["model-value","onChange"])]),_:2},1024))),128))]),default:u(()=>[o(pe,{type:"primary"},{default:u(()=>[t(B)?(r(),g("div",nt)):N("",!0),o(q,{icon:"filter"}),o(q,{icon:"angle-down",class:"ml-2 text-white transition ease-in-out duration-500 hover:rotate-180"})]),_:1})]),_:1})])):N("",!0),x("div",null,[o(fe,{loading:t(s),animated:""},{template:u(()=>[o(Y,null,{default:u(()=>[(r(),g(j,null,Q(10,v=>o(J,{key:v},{default:u(()=>[o(K,{variant:"p"}),o(K,{class:"el-timeline-item__timestamp is-bottom",variant:"rect"})]),_:2},1024)),64))]),_:1})]),default:u(()=>[t(H).length?(r(),I(Y,{key:0},{default:u(()=>[(r(!0),g(j,null,Q(t(H),v=>(r(),I(J,{key:v.id,timestamp:D(v.createdAt).value,color:t(V)&&t(V)<v.createdAt?"#E2001A":void 0},{default:u(()=>[o(tt,{notification:v},null,8,["notification"])]),_:2},1032,["timestamp","color"]))),128))]),_:1})):(r(),g("div",ot,U(n.$t("noEntries")),1))]),_:1},8,["loading"])]),o(_e,{"current-page":t(z),"onUpdate:currentPage":c[0]||(c[0]=v=>S(z)?z.value=v:null),"page-size":_,total:t(W)??0,"page-count":t(le),"pager-count":5,layout:"prev,pager,next","hide-on-single-page":"",class:"flex justify-center flex-grow mt-2",background:"",onNextClick:t(ue),onPrevClick:t(re)},null,8,["current-page","total","page-count","onNextClick","onPrevClick"]),t(V)?(r(),g("p",at,U(n.$t("notification.lastViewed",{lastViewed:t(T)}))+" "+U(n.$t("notification.sinceLastViewedUnreadCount",{count:t(e)},t(e))),1)):N("",!0)])}}}),lt={class:"flex justify-between"},ut=x("div",{id:"after-title"},null,-1),Bt=F({__name:"ViewUserProfile",props:{id:{}},setup(y){const b=y,h=l(()=>b.id==="me"?A.value?.id:b.id),A=ne(),f=ge(X.ViewUserProfile,E=>({tab:E.literal(["profile","settings","notifications"],{default:"profile"})})),V=he().createScope(),{data:e}=V.useGet({id:h,lazy:!0});return(E,D)=>{const T=xe,$=Ge;return r(),g("div",null,[x("div",lt,[o(We),ut]),o($,{modelValue:t(f).tab,"onUpdate:modelValue":D[0]||(D[0]=P=>t(f).tab=P)},{default:u(()=>[o(T,{label:E.$t("user.profile.tabs.profile"),name:"profile",lazy:""},{default:u(()=>[t(e)?(r(),I(ze,{key:0,"model-value":t(e)},null,8,["model-value"])):N("",!0)]),_:1},8,["label"]),t(e)&&t(A)?.id===t(h)&&E.$can("view",t(X).ViewNotifications)?(r(),I(T,{key:0,label:E.$t("user.profile.tabs.notifications"),name:"notifications",lazy:""},{default:u(()=>[o(st,{"is-active":t(f).tab==="notifications",user:t(e)},null,8,["is-active","user"])]),_:1},8,["label"])):N("",!0),t(e)&&t(A)?.id===t(h)?(r(),I(T,{key:1,label:E.$t("user.profile.tabs.settings"),name:"settings",lazy:""},{default:u(()=>[t(e)&&t(f).tab==="settings"?(r(),I(Ze,{key:0,user:t(e)},null,8,["user"])):N("",!0)]),_:1},8,["label"])):N("",!0)]),_:1},8,["modelValue"])])}}});export{Bt as default};
