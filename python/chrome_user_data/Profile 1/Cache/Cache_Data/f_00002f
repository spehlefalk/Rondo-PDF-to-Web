import{Z as h,X as A,a as ee,o as b,aC as k,g as E,e5 as pe,c as e,eo as He,f2 as Y,f3 as ve,u as ye,e as M,fl as We,a9 as Ge,aB as Ze,V as K,e3 as Ke,r as ie,s as j,a3 as Xe,w as Ye,b as Je,j as N,h as u,f as w,eh as ue,i as de,t as B,ei as Qe,k as H,aj as ce,e6 as ea,aD as aa,ah as me,$ as ta,d$ as la,gk as sa,e0 as ra,e1 as oa,l as na,eZ as ia,f0 as ua,e2 as da,eM as ca}from"./vendor-CJXdOFCa.js";import{v as ma}from"./index-CAbXtJ5f.js";import{_ as fa}from"./SelectLanguage.vue_vue_type_script_setup_true_lang-CHojjjlo.js";import{_ as pa}from"./ArtesaProfilePicture.vue_vue_type_script_setup_true_lang-CvX_tVhj.js";import{_ as va}from"./SelectRole.vue_vue_type_script_setup_true_lang-ERmElk75.js";import{_ as ya}from"./SelectUser.vue_vue_type_script_setup_true_lang-81euLzTY.js";import{f as ha}from"./FeathersTablePagination.vue_vue_type_style_index_0_lang-DDfA-nHC.js";import{aN as ga,h as ba,aG as he,b7 as wa,t as _a,a as Va,e as Ca,D as Ia,T as xa}from"./index-M8nwXBBi.js";import{p as Sa}from"./MakeSortable.vue_vue_type_script_setup_true_lang-DJUGCLh6.js";import{_ as ka}from"./ViewUserAbsenceNorms.vue_vue_type_script_setup_true_lang-BGxrj7i1.js";import{u as Ea}from"./useCompanySettingValue-DJ6odCGL.js";import{u as Ta}from"./hasItemsForCompany.store-D65GIO8M.js";import{_ as Ua}from"./FeathersSelectAutocomplete.vue_vue_type_style_index_0_lang-D553730i.js";import{u as Pa}from"./upload.store-BC_PBlNG.js";import{c as X,u as Na}from"./validateFormAsync-7W-wrk_Q.js";const J=0,Q=4,Aa=s=>{let c=0;return s.split("").forEach(g=>{s.split(g).length>c&&(c=s.split(g).length-1)}),c},$a=s=>{let c=0,g=0,f=0,l=0,v=0;const T=/[^A-Za-z0-9]/g,t=/(.*[a-z].*)/g,p=/(.*[A-Z].*)/g,C=/(.*[0-9].*)/g,V=T.test(s),y=t.test(s),I=p.test(s),$=C.test(s),{length:x}=s;if(x===0)return J;if(x<4)return 1;(y||I)&&$&&(v=1),I&&y&&(l=1),(y||I||$)&&V&&(f=1),x>8&&(g=1);const d=Aa(s);return x-d>12&&(g=2),x-d>25&&(g=3),c=g+f+l+v,c<1?1:c>Q?Q:c},Ra=s=>h(()=>{const c=A(s);return $a(c)}),Ba={class:"rounded-full bg-gray-200 relative"},Ma=ee({__name:"PasswordStrength",props:{password:{}},setup(s){const c=s,g=Ra(()=>c.password),f=h(()=>{const{value:l}=g,v=(l-J)/(Q-J)*100;return v<0?0:v>100?100:v});return(l,v)=>(b(),k("div",Ba,[E("div",{class:pe([{"bg-red-500":e(f)<40,"bg-yellow-500":e(f)>=40&&e(f)<80,"bg-green-500":e(f)>=80},"rounded-full absolute top-0 left-0 bottom-0 transition-all duration-200"]),style:He({width:`${e(f)}%`})},null,6)]))}}),Da={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Oa=E("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 9l5-5l5 5m-5-5v12"},null,-1),Fa=[Oa];function qa(s,c){return b(),k("svg",Da,Fa)}const La={name:"tabler-upload",render:qa},za=ee({__name:"SelectWorkingTimeModel",props:Y({clearable:{type:Boolean,default:!1},size:We,multi:{type:Boolean,default:!1},collapseTags:{type:Boolean,default:!1},showSelectAll:{type:Boolean,default:!1},clearOnSelectAll:{type:Boolean,default:!1},selectByDefault:{type:Boolean,default:!1},loadOn:{type:String,default:void 0},placeholder:{type:String,default:void 0},params:{type:Object,default:void 0},fetchParams:{type:Object,default:void 0}},{modelValue:{default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(s){const c=ga().createScope(),g=ve(s,"modelValue"),f=s,{t:l}=ye(),v=ba(),T=h(()=>({...f.params,query:{companyId:v.value,deactivatedAt:null,...f.params?.query,$sort:{order:1,...f.params?.query?.$sort}}})),t=h(()=>{if(f.fetchParams===null)return null;const p=f.fetchParams??f.params;return{...p,query:{companyId:v.value,deactivatedAt:null,...p?.query,$sort:{order:1,...p?.query?.$sort}}}});return(p,C)=>(b(),M(Ua,{modelValue:g.value,"onUpdate:modelValue":C[0]||(C[0]=V=>g.value=V),store:e(c),params:e(T),"fetch-params":e(t),limit:100,clearable:s.clearable,"load-on":s.loadOn,"label-field":"name","show-background":"",placeholder:s.placeholder??e(l)("working-time-models.name"),multi:s.multi,size:s.size,"collapse-tags":s.collapseTags,"show-select-all":s.showSelectAll,"clear-on-select-all":s.clearOnSelectAll,"select-by-default":s.selectByDefault},null,8,["modelValue","store","params","fetch-params","clearable","load-on","placeholder","multi","size","collapse-tags","show-select-all","clear-on-select-all","select-by-default"]))}}),ja=s=>{const c=he().createScope(),{data:g,hasChanges:f,save:l,cancel:v,markForRemove:T}=c.useFeathersItems({localOnly:s.local,limit:2e3,params:h(()=>{const d=A(s.companyId),m=A(s.user);if(!d||m===null)return null;const r={companyId:d};m&&(r.userUuid=m.uuid);const _=A(s.eventType);return _&&(r.eventTypeUuid=_.uuid),{query:r}}),fetchParams:h(()=>{if(s.local)return null;const d=A(s.companyId),m=A(s.user);if(!d||m===null)return null;const r={companyId:d};if(m){if(!m.id)return null;r.userId=m.id}if(s.eventType){const _=A(s.eventType);if(!_.id)return null;r.eventTypeId=_.id}return{query:r}})}),t=h(()=>{const d=[];return g.value.forEach(m=>{const{user:r,eventType:_}=m;!r||!_||r.deactivatedAt||_.deactivatedAt||s.hideTempUsers&&!r.id||s.hideTempEventTypes&&!_.id||d.push(m)}),d}),p=h(()=>t.value.filter(d=>c.hasChanges(d))),C=h(()=>p.value.length>0),V=async d=>{C.value&&await c.save(p.value,d)},y=h(()=>{const d={};for(const m of t.value){const{user:r,eventType:_}=m;if(!r||!_)continue;const U=r.uuid;d[U]||={};const O=_.uuid;d[U][O]=m}return d});function I({eventType:d,user:m}){return y.value[m.uuid]?.[d.uuid]}function $({eventType:d,user:m}){const r=I({eventType:d,user:m});x({eventType:d,user:m,isActive:!r})}function x({eventType:d,user:m,isActive:r}){const _=A(s.companyId);if(!_)return;const U=I({eventType:d,user:m});if(!(U&&r||!U&&!r))if(r){const O=c.construct({companyId:_,eventType:d,user:m});s.saveInstantly&&c.save(O)}else U&&(s.saveInstantly&&U?.id?c.remove(U):T(U))}return{capabilities:t,toggleCapability:$,setCapability:x,hasChanges:C,save:V,cancel:v,capabilityByUserIdByEventTypeId:y}},Ha=Ge(s=>{const c=wa().createScope(),{data:g}=c.useFind({params:h(()=>{const l=A(s.companyId),v=A(s.types);return!l||!v.length?null:{query:{companyId:l,type:{$in:v},$limit:100}}})}),f=h(()=>g.value.map(l=>l.id));return{roles:g,roleIds:f}}),Wa={class:"flex"},Ga={class:"flex flex-col items-center mb-3"},Za={class:"rounded-full"},Ka={class:"flex-1 ml-4"},Xa={class:"flex items-start gap-3"},Ya={class:"mt-1"},Ja={key:2,class:"@container mb-4"},Qa={class:"mt-4 mb-2 font-bold text-gray-600 flex"},et={class:"flex-1"},at={key:0},tt={class:"grid grid-cols-1 @md:grid-cols-2 @xl:grid-cols-3 @2xl:grid-cols-4 border-t border-l border-gray-200"},lt=["onClick"],st={class:"mr-auto @3xl:mr-0"},rt={key:4,class:"flex justify-end mt-4 gap-2"},ot={key:0},nt={key:1},It=ee({__name:"FormUser",props:Y({hideBottomButtons:{type:Boolean,default:!1},showCancel:{type:Boolean,default:!1}},{modelValue:{required:!0},modelModifiers:{}}),emits:Y(["saved"],["update:modelValue"]),setup(s,{expose:c,emit:g}){const{can:f}=Ze(),{t:l}=ye(),v=_a().createScope(),T=g,t=ve(s,"modelValue"),p=h(()=>t.value.companyId);K(t,(n,a)=>{a&&Z()});const C=Ke(ha)?.formRef??ie(),V=ie(),y=j(new Date),I=j(!1),[$]=Ea("RFIDEnabled",{defaultValue:!1,companyId:p}),x=h(()=>t.value.password||!t.value.id),d=h({get:()=>t.value.password,set:n=>{n?t.value.password=n:"password"in t.value&&delete t.value.password}}),m=j(""),r=h(()=>({user:t.value,verifyPassword:m.value})),_=(n,a,i)=>{if(t.value?.id&&!a)return i();if(a){if(a.length<8)return i(new Error(l("user.form.PasswordHasToBeAtLeast",{length:8})));if(a.startsWith(" ")||a.endsWith(" "))return i(new Error(l("user.form.PasswordCannotStartOrEndWithSpace")))}else return i(new Error(l("user.form.PleaseProvidePassword")));i()},U=(n,a,i)=>{if(!x.value)return i();if(a==="")return i(new Error(l("user.form.PleaseRepeatPassword")));if(a!==t.value.password)return i(new Error(l("user.form.PasswordsDontMatch")));i()},O=X(async(n,a)=>{if(!a)return;const i=await v.service.find({query:{companyId:p.value,rfid:a,...t.value.id?{id:{$ne:t.value.id}}:{},$limit:1,$select:["id","fullName","email"]}}),[S]=Array.isArray(i)?i:"data"in i?i.data:[i];if(S)throw l("user.form.RfidAlreadyTakenBy",{user:S.fullName||S.email})}),ge=X(async(n,a)=>{if(!a)return;const i=await v.service.find({query:{companyId:p.value,staffNumber:a,...t.value.id?{id:{$ne:t.value.id}}:{},$limit:1,$select:["id","fullName","email"]}}),[S]=Array.isArray(i)?i:"data"in i?i.data:[i];if(S)throw l("user.form.StaffNumberAlreadyTakenBy",{user:S.fullName||S.email})}),be=X(async(n,a)=>{if(!a)return;const i=await v.service.find({query:{companyId:p.value,email:a,...t.value.id?{id:{$ne:t.value.id}}:{},$limit:1,$select:["id","fullName","email"]}}),[S]=Array.isArray(i)?i:"data"in i?i.data:[i];if(S)throw l("user.form.EmailAlreadyTakenBy",{user:S.fullName||S.email})}),we=Xe({"user.fullName":[{required:!0,message:l("validation.PleaseEnterValue"),trigger:"blur"}],"user.email":[{type:"email",required:!0,message:l("validation.PleaseEnterValidEmail"),trigger:["blur","change"]},{validator:be,trigger:["blur","change"]}],"user.password":[{validator:_,trigger:["blur","change"]}],verifyPassword:[{validator:U,trigger:["blur","change"]}],"user.roleId":[{required:!0,message:l("validation.PleaseEnterValue"),trigger:"change"}],"user.staffNumber":[{validator:ge,trigger:["blur","change"]}],"user.rfid":[{validator:O,trigger:["blur","change"]}]}),G=j(null),_e=Va(),Ve=h(()=>!!t.value?.id),Ce=Ca();K(()=>t.value?.rfid,n=>{t.value&&!n&&n!==null&&(t.value.rfid=null)});function ae(){m.value="",C.value?.clearValidate("verifyPassword")}K(()=>t.value,()=>{ae()}),Ye(()=>!t.value?.password,()=>{ae()});const Ie=Ia().createScope(),{data:F}=Ie.useFind({params:h(()=>({query:{companyId:p.value,$sort:{order:1}}}))}),{capabilityByUserIdByEventTypeId:q,cancel:xe,hasChanges:Se,save:ke,setCapability:Ee,toggleCapability:Te}=ja({companyId:p,user:t}),Ue=h(()=>{const n=q.value[t.value?.uuid];return!!Object.values(n||{}).length}),Pe=h(()=>{const n=q.value[t.value?.uuid];return Object.values(n||{}).length===F.value.length}),L=he();function te(n){f("update",L.servicePath)&&Ee(n)}function Ne(n){f("update",L.servicePath)&&Te(n)}function le(n){F.value.forEach(a=>{te({user:t.value,eventType:a,isActive:n})})}const se=h(()=>!!v.hasChanges(t.value)||Se.value||!!V.value?.hasChanges),{validateAsync:Ae}=Na(C);function Z(){v.resetOrRemove(t.value),xe(),V.value?.reset()}const{execute:re,isLoading:oe}=xa(async()=>{await Ae().catch(n=>{throw me({title:t.value?.id?l("user.form.couldNotSaveUser"):l("user.form.couldNotCreateUser"),message:l("user.form.couldNotCreateUserExplanation"),type:"error"}),n}),await v.save(t.value),await ta(),await Promise.all([ke(),V.value?.save()]),T("saved",t.value)}),{roles:$e}=Ha({companyId:p,types:["office","admin","superadmin"]}),Re=h(()=>({query:{companyId:p.value,...!!t.value?.id&&{id:{$ne:t.value.id}},roleId:{$in:$e.value.map(a=>a.id)}}}));function Be(n){return C.value?.validate((a,i)=>{a||me({title:l("user.form.couldNotCreateUser"),message:l("user.form.couldNotCreateUserExplanation"),type:"error"}),n?.(a,i)})}const Me=Ta().useHasItems("working-time-models"),{isUploading:De,openDialog:Oe}=Pa().useUpload({multiple:!1,service:"users",allowedMimeTypes:["image/jpeg","image/png"],serviceId:h(()=>t.value.id),imageResizeTargetHeight:200,imageResizeTargetWidth:200,onFileUploaded:n=>{t.value.profilePictureId=n.id}});return c({cancel:Z,save:re,validate:Be,hasChanges:se}),(n,a)=>{const i=la,S=sa,R=ra,P=oa,ne=Je("font-awesome-icon"),z=na,Fe=ia,qe=ca,Le=ua,ze=da;return b(),k(ce,null,[e(G)?(b(),M(i,{key:0,title:e(G).name,description:e(G).message,type:"error",class:"mb-4"},null,8,["title","description"])):N("",!0),u(ze,{ref_key:"formRef",ref:C,model:e(r),rules:e(we),"label-position":e(Ce).lg?"left":"top","label-width":"150px","hide-required-asterisk":""},{default:w(()=>[E("div",Wa,[E("div",Ga,[ue((b(),k("div",Za,[u(pa,{user:t.value,size:"xl",class:"relative m-0.5","disable-tooltip":""},{default:w(()=>[t.value.id?ue((b(),k("div",{key:0,class:"absolute bg-black/50 inset-0 flex flex-col items-center justify-center cursor-pointer text-xs text-white",onClick:a[0]||(a[0]=()=>e(Oe)())},[u(e(La),{class:"h-8 w-8"}),de(" "+B(e(l)("actions.upload")),1)],512)),[[Qe,e(I)||e(De)]]):N("",!0)]),_:1},8,["user"])])),[[e(ma),o=>I.value=o]]),t.value.profilePictureId?(b(),k("div",{key:0,class:"text-xs underline text-blue-700 mt-2 cursor-pointer",onClick:a[1]||(a[1]=()=>{t.value.profilePicture=null,t.value.profilePictureId=null})},B(e(l)("actions.remove")),1)):N("",!0)]),E("div",Ka,[E("div",Xa,[E("div",Ya,[u(S,{modelValue:t.value.color,"onUpdate:modelValue":a[2]||(a[2]=o=>t.value.color=o),predefine:e(Sa)},null,8,["modelValue","predefine"])]),u(P,{prop:"user.fullName","label-width":"0",class:"w-full"},{default:w(()=>[u(R,{modelValue:t.value.fullName,"onUpdate:modelValue":a[3]||(a[3]=o=>t.value.fullName=o),placeholder:e(l)("user.property.fullName"),size:"large",class:"flex-1 inline-edit !text-xl"},null,8,["modelValue","placeholder"])]),_:1})]),u(R,{modelValue:t.value.shortName,"onUpdate:modelValue":a[4]||(a[4]=o=>t.value.shortName=o),placeholder:e(l)("user.property.shortName"),size:"small",class:"inline-edit"},null,8,["modelValue","placeholder"])])]),u(P,{label:e(l)("user.property.email")+":",prop:"user.email"},{default:w(()=>[u(R,{modelValue:e(r).user.email,"onUpdate:modelValue":a[5]||(a[5]=o=>e(r).user.email=o),placeholder:e(l)("user.property.email"),type:"text"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),u(P,{label:e(l)("user.property.password")+":",prop:"user.password"},{default:w(()=>[u(R,{modelValue:e(d),"onUpdate:modelValue":a[6]||(a[6]=o=>H(d)?d.value=o:null),placeholder:e(l)("user.property.password"),type:"password","show-password":""},null,8,["modelValue","placeholder"]),e(r).user.password?(b(),M(Ma,{key:0,password:e(r).user.password,class:"h-1 -mt-1 ml-0.5 mr-0.5 w-full"},null,8,["password"])):N("",!0)]),_:1},8,["label"]),e(x)?(b(),M(P,{key:0,label:e(l)("user.form.verifyPassword")+":",prop:"verifyPassword","label-width":"150px"},{default:w(()=>[u(R,{modelValue:e(m),"onUpdate:modelValue":a[7]||(a[7]=o=>H(m)?m.value=o:null),placeholder:e(l)("user.form.repeatPassword"),type:"password","show-password":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):N("",!0),u(P,{label:e(l)("user.property.staffNumber")+":",prop:"user.staffNumber"},{default:w(()=>[u(R,{modelValue:e(r).user.staffNumber,"onUpdate:modelValue":a[8]||(a[8]=o=>e(r).user.staffNumber=o),placeholder:e(l)("user.property.staffNumber"),disabled:!n.$can("update",e(r).user,"staffNumber"),type:"text"},null,8,["modelValue","placeholder","disabled"])]),_:1},8,["label"]),e($)?(b(),M(P,{key:1,label:e(l)("user.property.rfid")+":",prop:"user.rfid"},{default:w(()=>[u(R,{modelValue:e(r).user.rfid,"onUpdate:modelValue":a[9]||(a[9]=o=>e(r).user.rfid=o),placeholder:e(l)("user.property.rfid"),type:"text"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):N("",!0),u(P,{label:e(l)("role.name")+":",prop:"user.roleId","validation-options":{},"label-width":"150px"},{default:w(()=>[u(va,{modelValue:e(r).user.role,"onUpdate:modelValue":a[10]||(a[10]=o=>e(r).user.role=o),"company-id":e(p),disabled:!e(_e)||!e(f)("update",e(r).user,"roleId"),class:"w-full"},null,8,["modelValue","company-id","disabled"])]),_:1},8,["label"]),e(F).length?(b(),k("div",Ja,[E("div",Qa,[E("div",et,B(e(l)("user-capabilities.name",2))+":",1),e(f)("update",e(L).servicePath)?(b(),k("div",at,[u(Fe,null,{default:w(()=>[u(z,{disabled:!e(Ue),size:"small",onClick:a[11]||(a[11]=()=>le(!1))},{default:w(()=>[u(ne,{icon:"times"})]),_:1},8,["disabled"]),u(z,{disabled:e(Pe),size:"small",onClick:a[12]||(a[12]=()=>le(!0))},{default:w(()=>[u(ne,{icon:"check"})]),_:1},8,["disabled"])]),_:1})])):N("",!0)]),E("div",tt,[(b(!0),k(ce,null,ea(e(F),o=>(b(),k("div",{key:o.uuid,class:pe(["flex-1 flex items-center flex-row border-r border-b border-gray-200 py-1 px-3",[e(q)[t.value.uuid]?.[o.uuid]?"bg-primary/10 text-gray-800":"bg-white text-gray-500"]])},[E("div",{class:"flex-1 flex text-sm w-full overflow-hidden text-ellipsis whitespace-nowrap cursor-pointer",onClick:()=>Ne({user:t.value,eventType:o})},B(o.name),9,lt),E("div",st,[u(qe,{disabled:!e(f)("update",e(L).servicePath),"model-value":!!e(q)[t.value.uuid]?.[o.uuid],"onUpdate:modelValue":je=>te({user:t.value,eventType:o,isActive:!!je})},null,8,["disabled","model-value","onUpdate:modelValue"])])],2))),128))])])):N("",!0),u(P,{label:e(l)("forms.user.Supervisor")+":",prop:"user.supervisorId"},{default:w(()=>[u(ya,{modelValue:e(r).user.supervisor,"onUpdate:modelValue":a[13]||(a[13]=o=>e(r).user.supervisor=o),disabled:!n.$can("update",e(r).user,"supervisorId"),placeholder:e(l)("forms.user.Supervisor"),class:"w-full",params:e(Re)},null,8,["modelValue","disabled","placeholder","params"])]),_:1},8,["label"]),u(P,{label:e(l)("forms.user.language")+":"},{default:w(()=>[u(fa,{modelValue:e(r).user.language,"onUpdate:modelValue":a[14]||(a[14]=o=>e(r).user.language=o),clearable:"",class:"w-full"},null,8,["modelValue"])]),_:1},8,["label"]),e(Me)?(b(),M(P,{key:3,label:e(l)("working-time-models.name")+":"},{default:w(()=>[u(za,{modelValue:e(r).user.workingTimeModel,"onUpdate:modelValue":a[15]||(a[15]=o=>e(r).user.workingTimeModel=o),disabled:!n.$can("update",e(r).user,"workingTimeModelId"),clearable:""},null,8,["modelValue","disabled"])]),_:1},8,["label"])):N("",!0),u(P,{label:e(l)("userAbsence.norms")+":"},{default:w(()=>[u(Le,{modelValue:e(y),"onUpdate:modelValue":a[16]||(a[16]=o=>H(y)?y.value=o:null),type:"year",clearable:!1,class:"self-center !w-[85px] show-icon"},null,8,["modelValue"])]),_:1},8,["label"]),u(ka,{ref_key:"normRef",ref:V,year:e(y),"onUpdate:year":a[17]||(a[17]=o=>H(y)?y.value=o:null),"tab-is-active":!1,user:t.value,"handle-save-externally":""},null,8,["year","user"]),!s.hideBottomButtons&&e(se)?(b(),k("div",rt,[aa(n.$slots,"bottom-buttons"),s.showCancel?(b(),M(z,{key:0,onClick:Z},{default:w(()=>[de(B(e(l)("actions.Cancel")),1)]),_:1})):N("",!0),u(z,{type:"primary",loading:e(oe),disabled:e(oe),onClick:e(re)},{default:w(()=>[e(Ve)?(b(),k("span",ot,B(e(l)("actions.Save")),1)):(b(),k("span",nt,B(e(l)("actions.Register")),1))]),_:1},8,["loading","disabled","onClick"])])):N("",!0)]),_:3},8,["model","rules","label-position"])],64)}}});var W={VITE_HOST_URL:"https://api.artesa.de",VITE_GOOGLE_MAPS_API_KEY:"AIzaSyBHjqhHTvo8BgnhDCfPPykjDoHLvZNu14I",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const D=new Intl.RelativeTimeFormat(W.VITE_I18N_LOCALE||"de",{style:"long"}),it=new Intl.DateTimeFormat(W.VITE_I18N_LOCALE||"de",{day:"2-digit",month:"2-digit",year:"numeric"}),xt=new Intl.DateTimeFormat(W.VITE_I18N_LOCALE||"de",{timeStyle:"short",dateStyle:"short"}),fe=new Intl.ListFormat(W.VITE_I18N_LOCALE||"de",{style:"short",type:"conjunction"});function St(s,c=!1,g,f=new Date){const l=f-s,v=60*60*24*1e3,T=60*60*1e3,t=60*1e3,p=l>0?-1:1;if(Math.abs(l)>v)return it.format(s);{const C=Math.floor(Math.abs(l)/T),V=Math.floor(Math.abs(l)/T*60);if(Math.abs(l)>T){const y=[D.format(p*C,"hours")];if(V>0){const[I,$,x]=D.formatToParts(p*(V-C*60),"minutes");y.push(`${$.value}${x.value}`)}return fe.format(y)}else{let y=Math.floor(Math.abs(l)/t*60);if(c){if(y<60||g&&y<g)return D.format(p*y,"seconds");{y-=V*60;const I=[D.format(p*V,"minutes")];return y>0&&I.push(D.format(p*y,"seconds")),fe.format(I)}}else return D.format(p*V,"minutes")}}}export{It as _,xt as d,St as f,ja as u};
