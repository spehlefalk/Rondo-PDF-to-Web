import{q as A,y as c,_ as E,ao as Mt,p as Le,ap as P,B as y,aq as Z,R as M,ar as Ht,as as Pt,at as Wt,au as ee,av as Nt,aw as Lt,ax as Ot,ay as we,az as At,aA as U,aB as Ut,aC as _t,aD as k,U as te,aE as oe,v as L,aF as Gt,w as x,S as Bt,aG as zt,aH as jt,aI as Ft,aJ as Vt,aK as ve,aL as qt,aM as Xt,aN as Yt,aO as Ee,aP as Kt,aQ as $t,d as Oe,aR as _,a8 as ae,N as G,c as Ae,D as B,m as v,G as Ue,I as _e,V as Ge,aS as Be,ab as V,ad as O,ac as re,o as ce,aT as Zt,aU as Jt,aV as Qt,aW as de,ah as er,K as tr,a as ue,L as rr,M as sr,a3 as ir,i as lr,Z as nr,s as or,aj as ze,ak as je,J as se,aX as ar,aY as J,aZ as Y,e as Fe,a_ as Ve,j as qe,C as T,h as cr,P as ie,a$ as dr,ai as ur,al as hr,T as fr,a4 as pr,$ as gr,b0 as Xe,b1 as he,b2 as Ye,b3 as fe,b4 as mr,b5 as Sr,b6 as Rr,b7 as Cr,b8 as br,r as R,b9 as yr,a9 as Ke,ba as wr,bb as vr,f as Er,ag as xr,bc as z,bd as Dr,be as Ir,bf as $e,bg as kr,bh as Tr,bi as Mr,bj as Hr,bk as Pr,bl as Ze}from"./index-CsgZOv_I.js";import{T as Wr,b as Nr,a as Lr,c as Or,D as Ar,d as Ur,i as _r}from"./index-C8ho11FL.js";import{c as Gr,d as Br}from"./useFullcalendar-CLA5ahNS.js";const zr=372,jr="https://fullcalendar.io/docs/schedulerLicenseKey#invalid",Fr="https://fullcalendar.io/docs/schedulerLicenseKey#outdated",Vr=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],qr={position:"absolute",zIndex:99999,bottom:"1px",left:"1px",background:"#eee",borderColor:"#ddd",borderStyle:"solid",borderWidth:"1px 1px 0 0",padding:"2px 4px",fontSize:"12px",borderTopRightRadius:"3px"};function Xr(s){let e=s.options.schedulerLicenseKey,t=typeof window<"u"?window.location.href:"";if(!Kr(t)){let r=Yr(e,s.pluginHooks.premiumReleaseDate);if(r!=="valid")return c("div",{className:"fc-license-message",style:qr},r==="outdated"?c(E,null,"Your license key is too old to work with this version. ",c("a",{href:Fr},"More Info")):c(E,null,"Your license key is invalid. ",c("a",{href:jr},"More Info")))}return null}function Yr(s,e){if(Vr.indexOf(s)!==-1)return"valid";const t=(s||"").match(/^(\d+)-fcs-(\d+)$/);if(t&&t[1].length===10){const r=new Date(parseInt(t[2],10)*1e3),i=P.mockSchedulerReleaseDate||e;if(Mt(i))return Le(i,-zr)<r?"valid":"outdated"}return"invalid"}function Kr(s){return/\w+:\/\/fullcalendar\.io\/|\/examples\/[\w-]+\.html$/.test(s)}const $r={schedulerLicenseKey:String};var K=A({name:"@fullcalendar/premium-common",premiumReleaseDate:"2023-11-29",optionRefiners:$r,viewContainerAppends:[Xr]});function Zr(s){let e=s.getBoundingClientRect(),t=$t(s);return{left:e.left+t.borderLeft+t.scrollbarLeft-Jr(s),top:e.top+t.borderTop-s.scrollTop}}function Jr(s){let e=s.scrollLeft;if(window.getComputedStyle(s).direction==="rtl")switch(Je()){case"negative":e*=-1;case"reverse":e=s.scrollWidth-e-s.clientWidth}return e}function Qr(s,e){if(window.getComputedStyle(s).direction==="rtl")switch(Je()){case"reverse":e=s.scrollWidth-e;break;case"negative":e=-(s.scrollWidth-e);break}s.scrollLeft=e}let xe;function Je(){return xe||(xe=es())}function es(){let s=document.createElement("div");s.style.position="absolute",s.style.top="-1000px",s.style.width="1px",s.style.height="1px",s.style.overflow="scroll",s.style.direction="rtl",s.style.fontSize="100px",s.innerHTML="A",document.body.appendChild(s);let e;return s.scrollLeft>0?e="positive":(s.scrollLeft=1,s.scrollLeft>0?e="reverse":e="negative"),Vt(s),e}const ts=".fc-sticky";class rs{constructor(e,t){this.scrollEl=e,this.isRtl=t,this.updateSize=()=>{let{scrollEl:r}=this,i=U(r,ts),l=this.queryElGeoms(i),n=r.clientWidth;ss(i,l,n)}}queryElGeoms(e){let{scrollEl:t,isRtl:r}=this,i=Zr(t),l=[];for(let n of e){let o=ve(qt(n.parentNode,!0,!0),-i.left,-i.top),a=n.getBoundingClientRect(),d=window.getComputedStyle(n),u=window.getComputedStyle(n.parentNode).textAlign,h=null;u==="start"?u=r?"right":"left":u==="end"&&(u=r?"left":"right"),d.position!=="sticky"&&(h=ve(a,-i.left-(parseFloat(d.left)||0),-i.top-(parseFloat(d.top)||0))),l.push({parentBound:o,naturalBound:h,elWidth:a.width,elHeight:a.height,textAlign:u})}return l}}function ss(s,e,t){s.forEach((r,i)=>{let{textAlign:l,elWidth:n,parentBound:o}=e[i],a=o.right-o.left,d;l==="center"&&a>t?d=(t-n)/2:d="",Xt(r,{left:d,right:d,top:0})})}class is extends y{constructor(){super(...arguments),this.elRef=x(),this.state={xScrollbarWidth:0,yScrollbarWidth:0},this.handleScroller=e=>{this.scroller=e,te(this.props.scrollerRef,e)},this.handleSizing=()=>{let{props:e}=this;e.overflowY==="scroll-hidden"&&this.setState({yScrollbarWidth:this.scroller.getYScrollbarWidth()}),e.overflowX==="scroll-hidden"&&this.setState({xScrollbarWidth:this.scroller.getXScrollbarWidth()})}}render(){let{props:e,state:t,context:r}=this,i=r.isRtl&&ee(),l=0,n=0,o=0,{overflowX:a,overflowY:d}=e;return e.forPrint&&(a="visible",d="visible"),a==="scroll-hidden"&&(o=t.xScrollbarWidth),d==="scroll-hidden"&&t.yScrollbarWidth!=null&&(i?l=t.yScrollbarWidth:n=t.yScrollbarWidth),c("div",{ref:this.elRef,className:"fc-scroller-harness"+(e.liquid?" fc-scroller-harness-liquid":"")},c(Bt,{ref:this.handleScroller,elRef:this.props.scrollerElRef,overflowX:a==="scroll-hidden"?"scroll":a,overflowY:d==="scroll-hidden"?"scroll":d,overcomeLeft:l,overcomeRight:n,overcomeBottom:o,maxHeight:typeof e.maxHeight=="number"?e.maxHeight+(a==="scroll-hidden"?t.xScrollbarWidth:0):"",liquid:e.liquid,liquidIsAbsolute:!0},e.children))}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}getSnapshotBeforeUpdate(e){return this.props.forPrint&&!e.forPrint?{simulateScrollLeft:this.scroller.el.scrollLeft}:{}}componentDidUpdate(e,t,r){const{props:i,scroller:{el:l}}=this;if(L(e,i)||this.handleSizing(),r.simulateScrollLeft!==void 0)l.style.left=-r.simulateScrollLeft+"px";else if(!i.forPrint&&e.forPrint){const n=-parseInt(l.style.left);l.style.left="",l.scrollLeft=n}}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}needsXScrolling(){return this.scroller.needsXScrolling()}needsYScrolling(){return this.scroller.needsYScrolling()}}const De="wheel mousewheel DomMouseScroll MozMousePixelScroll".split(" ");class ls{constructor(e){this.el=e,this.emitter=new Yt,this.isScrolling=!1,this.isTouching=!1,this.isRecentlyWheeled=!1,this.isRecentlyScrolled=!1,this.wheelWaiter=new Ee(this._handleWheelWaited.bind(this)),this.scrollWaiter=new Ee(this._handleScrollWaited.bind(this)),this.handleScroll=()=>{this.startScroll(),this.emitter.trigger("scroll",this.isRecentlyWheeled,this.isTouching),this.isRecentlyScrolled=!0,this.scrollWaiter.request(500)},this.handleWheel=()=>{this.isRecentlyWheeled=!0,this.wheelWaiter.request(500)},this.handleTouchStart=()=>{this.isTouching=!0},this.handleTouchEnd=()=>{this.isTouching=!1,this.isRecentlyScrolled||this.endScroll()},e.addEventListener("scroll",this.handleScroll),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.addEventListener("touchend",this.handleTouchEnd);for(let t of De)e.addEventListener(t,this.handleWheel)}destroy(){let{el:e}=this;e.removeEventListener("scroll",this.handleScroll),e.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.removeEventListener("touchend",this.handleTouchEnd);for(let t of De)e.removeEventListener(t,this.handleWheel)}startScroll(){this.isScrolling||(this.isScrolling=!0,this.emitter.trigger("scrollStart",this.isRecentlyWheeled,this.isTouching))}endScroll(){this.isScrolling&&(this.emitter.trigger("scrollEnd"),this.isScrolling=!1,this.isRecentlyScrolled=!0,this.isRecentlyWheeled=!1,this.scrollWaiter.clear(),this.wheelWaiter.clear())}_handleScrollWaited(){this.isRecentlyScrolled=!1,this.isTouching||this.endScroll()}_handleWheelWaited(){this.isRecentlyWheeled=!1}}class ns{constructor(e,t){this.isVertical=e,this.scrollEls=t,this.isPaused=!1,this.scrollListeners=t.map(r=>this.bindScroller(r))}destroy(){for(let e of this.scrollListeners)e.destroy()}bindScroller(e){let{scrollEls:t,isVertical:r}=this,i=new ls(e);const l=(o,a)=>{if(!this.isPaused&&((!this.masterEl||this.masterEl!==e&&(o||a))&&this.assignMaster(e),this.masterEl===e))for(let d of t)d!==e&&(r?d.scrollTop=e.scrollTop:d.scrollLeft=e.scrollLeft)},n=()=>{this.masterEl===e&&(this.masterEl=null)};return i.emitter.on("scroll",l),i.emitter.on("scrollEnd",n),i}assignMaster(e){this.masterEl=e;for(let t of this.scrollListeners)t.el!==e&&t.endScroll()}forceScrollLeft(e){this.isPaused=!0;for(let t of this.scrollListeners)Qr(t.el,e);this.isPaused=!1}forceScrollTop(e){this.isPaused=!0;for(let t of this.scrollListeners)t.el.scrollTop=e;this.isPaused=!1}}P.SCROLLGRID_RESIZE_INTERVAL=500;class pe extends y{constructor(){super(...arguments),this.compileColGroupStats=Z(ds,hs),this.renderMicroColGroups=Z(zt),this.clippedScrollerRefs=new M,this.scrollerElRefs=new M(this._handleScrollerEl.bind(this)),this.chunkElRefs=new M(this._handleChunkEl.bind(this)),this.scrollSyncersBySection={},this.scrollSyncersByColumn={},this.rowUnstableMap=new Map,this.rowInnerMaxHeightMap=new Map,this.anyRowHeightsChanged=!1,this.recentSizingCnt=0,this.state={shrinkWidths:[],forceYScrollbars:!1,forceXScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{},sectionRowMaxHeights:[]},this.handleSizing=(e,t)=>{if(!this.allowSizing())return;t||(this.anyRowHeightsChanged=!0);let r={};(e||!t&&!this.rowUnstableMap.size)&&(r.sectionRowMaxHeights=this.computeSectionRowMaxHeights()),this.setState(Object.assign(Object.assign({shrinkWidths:this.computeShrinkWidths()},this.computeScrollerDims()),r),()=>{this.rowUnstableMap.size||this.updateStickyScrolling()})},this.handleRowHeightChange=(e,t)=>{let{rowUnstableMap:r,rowInnerMaxHeightMap:i}=this;if(!t)r.set(e,!0);else{r.delete(e);let l=Ie(e);(!i.has(e)||i.get(e)!==l)&&(i.set(e,l),this.anyRowHeightsChanged=!0),!r.size&&this.anyRowHeightsChanged&&(this.anyRowHeightsChanged=!1,this.setState({sectionRowMaxHeights:this.computeSectionRowMaxHeights()}))}}}render(){let{props:e,state:t,context:r}=this,{shrinkWidths:i}=t,l=this.compileColGroupStats(e.colGroups.map(C=>[C])),n=this.renderMicroColGroups(l.map((C,S)=>[C.cols,i[S]])),o=Ht(e.liquid,r);this.getDims();let a=e.sections,d=a.length,u=0,h,f=[],p=[],g=[];for(;u<d&&(h=a[u]).type==="header";)f.push(this.renderSection(h,u,l,n,t.sectionRowMaxHeights,!0)),u+=1;for(;u<d&&(h=a[u]).type==="body";)p.push(this.renderSection(h,u,l,n,t.sectionRowMaxHeights,!1)),u+=1;for(;u<d&&(h=a[u]).type==="footer";)g.push(this.renderSection(h,u,l,n,t.sectionRowMaxHeights,!0)),u+=1;const m=!Pt(),b={role:"rowgroup"};return c("table",{ref:e.elRef,role:"grid",className:o.join(" ")},cs(l,i),!!(!m&&f.length)&&c("thead",b,...f),!!(!m&&p.length)&&c("tbody",b,...p),!!(!m&&g.length)&&c("tfoot",b,...g),m&&c("tbody",b,...f,...p,...g))}renderSection(e,t,r,i,l,n){return"outerContent"in e?c(E,{key:e.key},e.outerContent):c("tr",{key:e.key,role:"presentation",className:Wt(e,this.props.liquid).join(" ")},e.chunks.map((o,a)=>this.renderChunk(e,t,r[a],i[a],o,a,(l[t]||[])[a]||[],n)))}renderChunk(e,t,r,i,l,n,o,a){if("outerContent"in l)return c(E,{key:l.key},l.outerContent);let{state:d}=this,{scrollerClientWidths:u,scrollerClientHeights:h}=d,[f,p]=this.getDims(),g=t*p+n,m=!this.context.isRtl||ee()?p-1:0,b=n===m,C=t===f-1,S=C&&d.forceXScrollbars,w=b&&d.forceYScrollbars,I=r&&r.allowXScrolling,H=Nt(this.props,e),W=Lt(this.props,e),Dt=e.expandRows&&W,It=r&&r.totalColMinWidth||"",$=Ot(e,l,{tableColGroupNode:i,tableMinWidth:It,clientWidth:u[g]!==void 0?u[g]:null,clientHeight:h[g]!==void 0?h[g]:null,expandRows:Dt,syncRowHeights:!!e.syncRowHeights,rowSyncHeights:o,reportRowHeightChange:this.handleRowHeightChange},a),kt=S?C?"scroll":"scroll-hidden":I?C?"auto":"scroll-hidden":"hidden",Tt=w?b?"scroll":"scroll-hidden":H?b?"auto":"scroll-hidden":"hidden";return $=c(is,{ref:this.clippedScrollerRefs.createRef(g),scrollerElRef:this.scrollerElRefs.createRef(g),overflowX:kt,overflowY:Tt,forPrint:this.props.forPrint,liquid:W,maxHeight:e.maxHeight},$),c(a?"th":"td",{key:l.key,ref:this.chunkElRefs.createRef(g),role:"presentation"},$)}componentDidMount(){this.getStickyScrolling=Z(fs),this.getScrollSyncersBySection=we(Te.bind(this,!0),null,j),this.getScrollSyncersByColumn=we(Te.bind(this,!1),null,j),this.updateScrollSyncers(),this.handleSizing(!1),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(e,t){this.updateScrollSyncers(),this.handleSizing(!1,t.sectionRowMaxHeights!==this.state.sectionRowMaxHeights)}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing),this.destroyScrollSyncers()}allowSizing(){let e=new Date;return!this.lastSizingDate||e.valueOf()>this.lastSizingDate.valueOf()+P.SCROLLGRID_RESIZE_INTERVAL?(this.lastSizingDate=e,this.recentSizingCnt=0,!0):(this.recentSizingCnt+=1)<=10}computeShrinkWidths(){let e=this.compileColGroupStats(this.props.colGroups.map(n=>[n])),[t,r]=this.getDims(),i=t*r,l=[];return e.forEach((n,o)=>{if(n.hasShrinkCol){let a=this.chunkElRefs.collect(o,i,r);l[o]=At(a)}}),l}computeSectionRowMaxHeights(){let e=new Map,[t,r]=this.getDims(),i=[];for(let l=0;l<t;l+=1){let n=this.props.sections[l],o=[];if(n&&n.syncRowHeights){let a=[];for(let h=0;h<r;h+=1){let f=l*r+h,p=[],g=this.chunkElRefs.currentMap[f];g?p=U(g,".fc-scrollgrid-sync-table tr").map(m=>{let b=Ie(m);return e.set(m,b),b}):p=[],a.push(p)}let d=a[0].length,u=!0;for(let h=1;h<r;h+=1)if(!(n.chunks[h]&&n.chunks[h].outerContent!==void 0)&&a[h].length!==d){u=!1;break}if(u){for(let h=0;h<r;h+=1)o.push([]);for(let h=0;h<d;h+=1){let f=[];for(let g=0;g<r;g+=1){let m=a[g][h];m!=null&&f.push(m)}let p=Math.max(...f);for(let g=0;g<r;g+=1)o[g].push(p)}}else{let h=[];for(let p=0;p<r;p+=1)h.push(os(a[p])+a[p].length);let f=Math.max(...h);for(let p=0;p<r;p+=1){let g=a[p].length,m=f-g,b=Math.floor(m/g),C=m-b*(g-1),S=[],w=0;for(w<g&&(S.push(C),w+=1);w<g;)S.push(b),w+=1;o.push(S)}}}i.push(o)}return this.rowInnerMaxHeightMap=e,i}computeScrollerDims(){let e=Ut(),[t,r]=this.getDims(),i=!this.context.isRtl||ee()?r-1:0,l=t-1,n=this.clippedScrollerRefs.currentMap,o=this.scrollerElRefs.currentMap,a=!1,d=!1,u={},h={};for(let f=0;f<t;f+=1){let p=f*r+i,g=n[p];if(g&&g.needsYScrolling()){a=!0;break}}for(let f=0;f<r;f+=1){let p=l*r+f,g=n[p];if(g&&g.needsXScrolling()){d=!0;break}}for(let f=0;f<t;f+=1)for(let p=0;p<r;p+=1){let g=f*r+p,m=o[g];if(m){let b=m.parentNode;u[g]=Math.floor(b.getBoundingClientRect().width-(p===i&&a?e.y:0)),h[g]=Math.floor(b.getBoundingClientRect().height-(f===l&&d?e.x:0))}}return{forceYScrollbars:a,forceXScrollbars:d,scrollerClientWidths:u,scrollerClientHeights:h}}updateStickyScrolling(){let{isRtl:e}=this.context,t=this.scrollerElRefs.getAll().map(r=>[r,e]);this.getStickyScrolling(t).forEach(r=>r.updateSize())}updateScrollSyncers(){let[e,t]=this.getDims(),r=e*t,i={},l={},n=this.scrollerElRefs.currentMap;for(let o=0;o<e;o+=1){let a=o*t,d=a+t;i[o]=_t(n,a,d,1)}for(let o=0;o<t;o+=1)l[o]=this.scrollerElRefs.collect(o,r,t);this.scrollSyncersBySection=this.getScrollSyncersBySection(i),this.scrollSyncersByColumn=this.getScrollSyncersByColumn(l)}destroyScrollSyncers(){k(this.scrollSyncersBySection,j),k(this.scrollSyncersByColumn,j)}getChunkConfigByIndex(e){let t=this.getDims()[1],r=Math.floor(e/t),i=e%t,l=this.props.sections[r];return l&&l.chunks[i]}forceScrollLeft(e,t){let r=this.scrollSyncersByColumn[e];r&&r.forceScrollLeft(t)}forceScrollTop(e,t){let r=this.scrollSyncersBySection[e];r&&r.forceScrollTop(t)}_handleChunkEl(e,t){let r=this.getChunkConfigByIndex(parseInt(t,10));r&&te(r.elRef,e)}_handleScrollerEl(e,t){let r=this.getChunkConfigByIndex(parseInt(t,10));r&&te(r.scrollerElRef,e)}getDims(){let e=this.props.sections.length,t=e?this.props.sections[0].chunks.length:0;return[e,t]}}pe.addStateEquality({shrinkWidths:oe,scrollerClientWidths:L,scrollerClientHeights:L});function os(s){let e=0;for(let t of s)e+=t;return e}function Ie(s){let e=U(s,".fc-scrollgrid-sync-inner").map(as);return e.length?Math.max(...e):0}function as(s){return s.offsetHeight}function cs(s,e){let t=s.map((r,i)=>{let l=r.width;return l==="shrink"&&(l=r.totalColWidth+Gt(e[i])+1),c("col",{style:{width:l}})});return c("colgroup",{},...t)}function ds(s){let e=ke(s.cols,"width"),t=ke(s.cols,"minWidth"),r=jt(s.cols),i=s.width!=="shrink"&&!!(e||t||r);return{hasShrinkCol:r,totalColWidth:e,totalColMinWidth:t,allowXScrolling:i,cols:s.cols,width:s.width}}function ke(s,e){let t=0;for(let r of s){let i=r[e];typeof i=="number"&&(t+=i*(r.span||1))}return t}const us={cols:Kt};function hs(s,e){return Ft(s,e,us)}function Te(s,...e){return new ns(s,e)}function j(s){s.destroy()}function fs(s,e){return new rs(s,e)}var ps='.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{bottom:0;position:absolute;top:0;z-index:1}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{align-items:center;display:flex;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame{overflow:hidden}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:4}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;position:absolute;top:0}.fc .fc-timeline-now-indicator-arrow{border-left-color:transparent;border-right-color:transparent;border-width:6px 5px 0;margin:0 -6px}.fc .fc-timeline-now-indicator-line{border-width:0 0 0 1px;bottom:0;margin:0 -1px}.fc .fc-timeline-events{position:relative;width:0;z-index:3}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{align-items:center;border-radius:0;display:flex;font-size:var(--fc-small-font-size);margin-bottom:1px;padding:2px 1px;position:relative}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{padding:0 2px;white-space:nowrap}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{margin-bottom:0;padding-bottom:5px;padding-top:5px}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{border-color:transparent #000;border-style:solid;border-width:5px;content:"";flex-grow:0;flex-shrink:0;height:0;margin:0 1px;opacity:.5;width:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;font-size:var(--fc-small-font-size);padding:1px}.fc-timeline-more-link-inner{display:inline-block;left:0;padding:2px;right:0}.fc .fc-timeline-bg{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:2}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{bottom:0;position:absolute;top:0}';Oe(ps);const gs=18,q=6,ms=200;P.MAX_TIMELINE_SLOTS=1e3;const le=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}];function Qe(s,e,t,r){let i={labelInterval:t.slotLabelInterval,slotDuration:t.slotDuration};Rs(i,s,e),et(i,s,e),Cs(i,s,e);let l=t.slotLabelFormat,n=Array.isArray(l)?l:l!=null?[l]:bs(i,s,e,t);i.headerFormats=n.map(I=>Ae(I)),i.isTimeScale=!!i.slotDuration.milliseconds;let o=null;if(!i.isTimeScale){const I=_(i.slotDuration).unit;/year|month|week/.test(I)&&(o=I)}i.largeUnit=o,i.emphasizeWeeks=Be(i.slotDuration)===1&&N("weeks",s,e)>=2&&!t.businessHours;let a=t.snapDuration,d,u;a&&(d=V(a),u=O(i.slotDuration,d)),u==null&&(d=i.slotDuration,u=1),i.snapDuration=d,i.snapsPerSlot=u;let h=re(s.slotMaxTime)-re(s.slotMinTime),f=Me(s.renderRange.start,i,e),p=Me(s.renderRange.end,i,e);i.isTimeScale&&(f=e.add(f,s.slotMinTime),p=e.add(Le(p,-1),s.slotMaxTime)),i.timeWindowMs=h,i.normalizedRange={start:f,end:p};let g=[],m=f;for(;m<p;)X(m,i,s,r)&&g.push(m),m=e.add(m,i.slotDuration);i.slotDates=g;let b=-1,C=0;const S=[],w=[];for(m=f;m<p;)X(m,i,s,r)?(b+=1,S.push(b),w.push(C)):S.push(b+.5),m=e.add(m,i.snapDuration),C+=1;return i.snapDiffToIndex=S,i.snapIndexToDiff=w,i.snapCnt=b+1,i.slotCnt=i.snapCnt/i.snapsPerSlot,i.isWeekStarts=ys(i,e),i.cellRows=ws(i,e),i.slotsPerLabel=O(i.labelInterval,i.slotDuration),i}function Me(s,e,t){let r=s;return e.isTimeScale||(r=ce(r),e.largeUnit&&(r=t.startOf(r,e.largeUnit))),r}function Ss(s,e,t){if(!e.isTimeScale&&(s=ar(s),e.largeUnit)){let r=s;s={start:t.startOf(s.start,e.largeUnit),end:t.startOf(s.end,e.largeUnit)},(s.end.valueOf()!==r.end.valueOf()||s.end<=s.start)&&(s={start:s.start,end:t.add(s.end,e.slotDuration)})}return s}function X(s,e,t,r){if(r.isHiddenDay(s))return!1;if(e.isTimeScale){let i=ce(s),n=s.valueOf()-i.valueOf()-re(t.slotMinTime);return n=(n%864e5+864e5)%864e5,n<e.timeWindowMs}return!0}function Rs(s,e,t){const{currentRange:r}=e;if(s.labelInterval&&t.countDurationsBetween(r.start,r.end,s.labelInterval)>P.MAX_TIMELINE_SLOTS&&(console.warn("slotLabelInterval results in too many cells"),s.labelInterval=null),s.slotDuration&&t.countDurationsBetween(r.start,r.end,s.slotDuration)>P.MAX_TIMELINE_SLOTS&&(console.warn("slotDuration results in too many cells"),s.slotDuration=null),s.labelInterval&&s.slotDuration){const i=O(s.labelInterval,s.slotDuration);(i===null||i<1)&&(console.warn("slotLabelInterval must be a multiple of slotDuration"),s.slotDuration=null)}}function et(s,e,t){const{currentRange:r}=e;let{labelInterval:i}=s;if(!i){let l;if(s.slotDuration){for(l of le){const n=V(l),o=O(n,s.slotDuration);if(o!==null&&o<=q){i=n;break}}i||(i=s.slotDuration)}else for(l of le)if(i=V(l),t.countDurationsBetween(r.start,r.end,i)>=gs)break;s.labelInterval=i}return i}function Cs(s,e,t){const{currentRange:r}=e;let{slotDuration:i}=s;if(!i){const l=et(s,e,t);for(let n of le){const o=V(n),a=O(l,o);if(a!==null&&a>1&&a<=q){i=o;break}}i&&t.countDurationsBetween(r.start,r.end,i)>ms&&(i=null),i||(i=l),s.slotDuration=i}return i}function bs(s,e,t,r){let i,l;const{labelInterval:n}=s;let o=_(n).unit;const a=r.weekNumbers;let d=i=l=null;switch(o==="week"&&!a&&(o="day"),o){case"year":d={year:"numeric"};break;case"month":N("years",e,t)>1&&(d={year:"numeric"}),i={month:"short"};break;case"week":N("years",e,t)>1&&(d={year:"numeric"}),i={week:"narrow"};break;case"day":N("years",e,t)>1?d={year:"numeric",month:"long"}:N("months",e,t)>1&&(d={month:"long"}),a&&(i={week:"short"}),l={weekday:"narrow",day:"numeric"};break;case"hour":a&&(d={week:"short"}),N("days",e,t)>1&&(i={weekday:"short",day:"numeric",month:"numeric",omitCommas:!0}),l={hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"};break;case"minute":Jt(n)/60>=q?(d={hour:"numeric",meridiem:"short"},i=u=>":"+J(u.date.minute,2)):d={hour:"numeric",minute:"numeric",meridiem:"short"};break;case"second":Zt(n)/60>=q?(d={hour:"numeric",minute:"2-digit",meridiem:"lowercase"},i=u=>":"+J(u.date.second,2)):d={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"};break;case"millisecond":d={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"},i=u=>"."+J(u.millisecond,3);break}return[].concat(d||[],i||[],l||[])}function N(s,e,t){let r=e.currentRange,i=null;return s==="years"?i=t.diffWholeYears(r.start,r.end):s==="months"||s==="weeks"?i=t.diffWholeMonths(r.start,r.end):s==="days"&&(i=Qt(r.start,r.end)),i||0}function ys(s,e){let{slotDates:t,emphasizeWeeks:r}=s,i=null,l=[];for(let n of t){let o=e.computeWeekNumber(n),a=r&&i!==null&&i!==o;i=o,l.push(a)}return l}function ws(s,e){let t=s.slotDates,r=s.headerFormats,i=r.map(()=>[]),l=Be(s.slotDuration),n=l===7?"week":l===1?"day":null,o=r.map(a=>a.getLargestUnit?a.getLargestUnit():null);for(let a=0;a<t.length;a+=1){let d=t[a],u=s.isWeekStarts[a];for(let h=0;h<r.length;h+=1){let f=r[h],p=i[h],g=p[p.length-1],m=h===r.length-1,b=r.length>1&&!m,C=null,S=o[h]||(m?n:null);if(b){let w=e.format(d,f);!g||g.text!==w?C=He(d,w,S):g.colspan+=1}else if(!g||de(e.countDurationsBetween(s.normalizedRange.start,d,s.labelInterval))){let w=e.format(d,f);C=He(d,w,S)}else g.colspan+=1;C&&(C.weekStart=u,p.push(C))}}return i}function He(s,e,t){return{date:s,text:e,rowUnit:t,colspan:1,isWeekStart:!1}}class vs extends y{constructor(){super(...arguments),this.refineRenderProps=Y(Ds),this.buildCellNavLinkAttrs=v(Es)}render(){let{props:e,context:t}=this,{dateEnv:r,options:i}=t,{cell:l,dateProfile:n,tDateProfile:o}=e,a=Fe(l.date,e.todayRange,e.nowDate,n),d=this.refineRenderProps({level:e.rowLevel,dateMarker:l.date,text:l.text,dateEnv:t.dateEnv,viewApi:t.viewApi});return c(T,{elTag:"th",elClasses:["fc-timeline-slot","fc-timeline-slot-label",l.isWeekStart&&"fc-timeline-slot-em",...l.rowUnit==="time"?Ve(a,t.theme):qe(a,t.theme)],elAttrs:{colSpan:l.colspan,"data-date":r.formatIso(l.date,{omitTime:!o.isTimeScale,omitTimeZoneOffset:!0})},renderProps:d,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:xs,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},u=>c("div",{className:"fc-timeline-slot-frame",style:{height:e.rowInnerHeight}},c(u,{elTag:"a",elClasses:["fc-timeline-slot-cushion","fc-scrollgrid-sync-inner",e.isSticky&&"fc-sticky"],elAttrs:this.buildCellNavLinkAttrs(t,l.date,l.rowUnit)})))}}function Es(s,e,t){return t&&t!=="time"?cr(s,e,t):{}}function xs(s){return s.text}function Ds(s){return{level:s.level,date:s.dateEnv.toDate(s.dateMarker),view:s.viewApi,text:s.text}}class Is extends y{render(){let{dateProfile:e,tDateProfile:t,rowInnerHeights:r,todayRange:i,nowDate:l}=this.props,{cellRows:n}=t;return c(E,null,n.map((o,a)=>{let d=a===n.length-1,h=["fc-timeline-header-row",t.isTimeScale&&d?"fc-timeline-header-row-chrono":""];return c("tr",{key:a,className:h.join(" ")},o.map(f=>c(vs,{key:f.date.toISOString(),cell:f,rowLevel:a,dateProfile:e,tDateProfile:t,todayRange:i,nowDate:l,rowInnerHeight:r&&r[a],isSticky:!d})))}))}}class ks{constructor(e,t,r,i,l,n){this.slatRootEl=e,this.dateProfile=r,this.tDateProfile=i,this.dateEnv=l,this.isRtl=n,this.outerCoordCache=new ie(e,t,!0,!1),this.innerCoordCache=new ie(e,dr(t,"div"),!0,!1)}isDateInRange(e){return ur(this.dateProfile.currentRange,e)}dateToCoord(e){let{tDateProfile:t}=this,i=this.computeDateSnapCoverage(e)/t.snapsPerSlot,l=Math.floor(i);l=Math.min(l,t.slotCnt-1);let n=i-l,{innerCoordCache:o,outerCoordCache:a}=this;return this.isRtl?a.originClientRect.width-(a.rights[l]-o.getWidth(l)*n):a.lefts[l]+o.getWidth(l)*n}rangeToCoords(e){return{start:this.dateToCoord(e.start),end:this.dateToCoord(e.end)}}durationToCoord(e){let{dateProfile:t,tDateProfile:r,dateEnv:i,isRtl:l}=this,n=0;if(t){let o=i.add(t.activeRange.start,e);r.isTimeScale||(o=ce(o)),n=this.dateToCoord(o),!l&&n&&(n+=1)}return n}coordFromLeft(e){return this.isRtl?this.outerCoordCache.originClientRect.width-e:e}computeDateSnapCoverage(e){return ne(e,this.tDateProfile,this.dateEnv)}}function ne(s,e,t){let r=t.countDurationsBetween(e.normalizedRange.start,s,e.snapDuration);if(r<0)return 0;if(r>=e.snapDiffToIndex.length)return e.snapCnt;let i=Math.floor(r),l=e.snapDiffToIndex[i];return de(l)?l+=r-i:l=Math.ceil(l),l}function ge(s,e){return s===null?{left:"",right:""}:e?{right:s,left:""}:{left:s,right:""}}function me(s,e){return s?e?{right:s.start,left:-s.end}:{left:s.start,right:-s.end}:{left:"",right:""}}class tt extends y{constructor(){super(...arguments),this.rootElRef=x()}render(){let{props:e,context:t}=this,r=_(e.tDateProfile.slotDuration).unit,i=e.slatCoords&&e.slatCoords.dateProfile===e.dateProfile?e.slatCoords:null;return c(G,{unit:r},(l,n)=>c("div",{className:"fc-timeline-header",ref:this.rootElRef},c("table",{"aria-hidden":!0,className:"fc-scrollgrid-sync-table",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,c("tbody",null,c(Is,{dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:l,todayRange:n,rowInnerHeights:e.rowInnerHeights}))),t.options.nowIndicator&&c("div",{className:"fc-timeline-now-indicator-container"},i&&i.isDateInRange(l)&&c(ae,{elClasses:["fc-timeline-now-indicator-arrow"],elStyle:ge(i.dateToCoord(l),t.isRtl),isAxis:!0,date:l}))))}componentDidMount(){this.updateSize()}componentDidUpdate(){this.updateSize()}updateSize(){this.props.onMaxCushionWidth&&this.props.onMaxCushionWidth(this.computeMaxCushionWidth())}computeMaxCushionWidth(){return Math.max(...U(this.rootElRef.current,".fc-timeline-header-row:last-child .fc-timeline-slot-cushion").map(e=>e.getBoundingClientRect().width))}}class Ts extends y{render(){let{props:e,context:t}=this,{dateEnv:r,options:i,theme:l}=t,{date:n,tDateProfile:o,isEm:a}=e,d=Fe(e.date,e.todayRange,e.nowDate,e.dateProfile),u=Object.assign(Object.assign({date:r.toDate(e.date)},d),{view:t.viewApi});return c(T,{elTag:"td",elRef:e.elRef,elClasses:["fc-timeline-slot","fc-timeline-slot-lane",a&&"fc-timeline-slot-em",o.isTimeScale?de(r.countDurationsBetween(o.normalizedRange.start,e.date,o.labelInterval))?"fc-timeline-slot-major":"fc-timeline-slot-minor":"",...e.isDay?qe(d,l):Ve(d,l)],elAttrs:{"data-date":r.formatIso(n,{omitTimeZoneOffset:!0,omitTime:!o.isTimeScale})},renderProps:u,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount},h=>c(h,{elTag:"div"}))}}class Ms extends y{render(){let{props:e}=this,{tDateProfile:t,cellElRefs:r}=e,{slotDates:i,isWeekStarts:l}=t,n=!t.isTimeScale&&!t.largeUnit;return c("tbody",null,c("tr",null,i.map((o,a)=>{let d=o.toISOString();return c(Ts,{key:d,elRef:r.createRef(d),date:o,dateProfile:e.dateProfile,tDateProfile:t,nowDate:e.nowDate,todayRange:e.todayRange,isEm:l[a],isDay:n})})))}}class rt extends y{constructor(){super(...arguments),this.rootElRef=x(),this.cellElRefs=new M,this.handleScrollRequest=e=>{let{onScrollLeftRequest:t}=this.props,{coords:r}=this;if(t&&r){if(e.time){let i=r.coordFromLeft(r.durationToCoord(e.time));t(i)}return!0}return null}}render(){let{props:e,context:t}=this;return c("div",{className:"fc-timeline-slots",ref:this.rootElRef},c("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,c(Ms,{cellElRefs:this.cellElRefs,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange})))}componentDidMount(){this.updateSizing(),this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.updateSizing(),this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach(),this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{props:e,context:t}=this;e.clientWidth!==null&&this.scrollResponder&&this.rootElRef.current.offsetWidth&&(this.coords=new ks(this.rootElRef.current,Hs(this.cellElRefs.currentMap,e.tDateProfile.slotDates),e.dateProfile,e.tDateProfile,t.dateEnv,t.isRtl),e.onCoords&&e.onCoords(this.coords),this.scrollResponder.update(!1))}positionToHit(e){let{outerCoordCache:t}=this.coords,{dateEnv:r,isRtl:i}=this.context,{tDateProfile:l}=this.props,n=t.leftToIndex(e);if(n!=null){let o=t.getWidth(n),a=i?(t.rights[n]-e)/o:(e-t.lefts[n])/o,d=Math.floor(a*l.snapsPerSlot),u=r.add(l.slotDates[n],er(l.snapDuration,d)),h=r.add(u,l.snapDuration);return{dateSpan:{range:{start:u,end:h},allDay:!this.props.tDateProfile.isTimeScale},dayEl:this.cellElRefs.currentMap[n],left:t.lefts[n],right:t.rights[n]}}return null}}function Hs(s,e){return e.map(t=>{let r=t.toISOString();return s[r]})}function st(s,e,t){let r=[];if(t)for(let i of s){let l=t.rangeToCoords(i),n=Math.round(l.start),o=Math.round(l.end);o-n<e&&(o=n+e),r.push({start:n,end:o})}return r}function Ps(s,e,t,r,i,l){let n=[],o=[];for(let S=0;S<s.length;S+=1){let w=s[S],I=w.eventRange.instance.instanceId,H=t[I],W=e[S];H&&W?n.push({index:S,span:W,thickness:H}):o.push({seg:w,hcoords:W,top:null})}let a=new gr;i!=null&&(a.strictOrder=i),l!=null&&(a.maxStackCnt=l);let d=a.addSegs(n),u=d.map(S=>({seg:s[S.index],hcoords:S.span,top:null})),h=hr(d),f=[],p=[];const g=S=>s[S.index];for(let S=0;S<h.length;S+=1){let w=h[S],I=w.entries.map(g),H=r[ze(je(I))];H!=null?f.push({index:s.length+S,thickness:H,span:w.span}):p.push({seg:I,hcoords:w.span,top:null})}a.maxStackCnt=-1,a.addSegs(f);let m=a.toRects(),b=[],C=0;for(let S of m){let w=S.index;b.push({seg:w<s.length?s[w]:h[w-s.length].entries.map(g),hcoords:S.span,top:S.levelCoord}),C=Math.max(C,S.levelCoord+S.thickness)}return[b.concat(o,u,p),C]}class it extends y{render(){let{props:e}=this,t=[].concat(e.eventResizeSegs,e.dateSelectionSegs);return e.timelineCoords&&c("div",{className:"fc-timeline-bg"},this.renderSegs(e.businessHourSegs||[],e.timelineCoords,"non-business"),this.renderSegs(e.bgEventSegs||[],e.timelineCoords,"bg-event"),this.renderSegs(t,e.timelineCoords,"highlight"))}renderSegs(e,t,r){let{todayRange:i,nowDate:l}=this.props,{isRtl:n}=this.context,o=st(e,0,t),a=e.map((d,u)=>{let h=o[u],f=me(h,n);return c("div",{key:sr(d.eventRange),className:"fc-timeline-bg-harness",style:f},r==="bg-event"?c(tr,Object.assign({seg:d},ue(d,i,l))):rr(r))});return c(E,null,a)}}class lt extends ir{sliceRange(e,t,r,i,l){let n=Ss(e,i,l),o=[];if(ne(n.start,i,l)<ne(n.end,i,l)){let a=lr(n,i.normalizedRange);a&&o.push({start:a.start,end:a.end,isStart:a.start.valueOf()===n.start.valueOf()&&X(a.start,i,t,r),isEnd:a.end.valueOf()===n.end.valueOf()&&X(nr(a.end,-1),i,t,r)})}return o}}const Ws=Ae({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});class nt extends y{render(){let{props:e}=this;return c(fr,Object.assign({},e,{elClasses:["fc-timeline-event","fc-h-event"],defaultTimeFormat:Ws,defaultDisplayEventTime:!e.isTimeScale}))}}class Ns extends y{render(){let{props:e,context:t}=this,{hiddenSegs:r,placement:i,resourceId:l}=e,{top:n,hcoords:o}=i,a=o&&n!==null,d=me(o,t.isRtl),u=l?{resourceId:l}:{};return c(pr,{elRef:e.elRef,elClasses:["fc-timeline-more-link"],elStyle:Object.assign({visibility:a?"":"hidden",top:n||0},d),allDayDate:null,moreCnt:r.length,allSegs:r,hiddenSegs:r,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:u,popoverContent:()=>c(E,null,r.map(h=>{let f=h.eventRange.instance.instanceId;return c("div",{key:f,style:{visibility:e.isForcedInvisible[f]?"hidden":""}},c(nt,Object.assign({isTimeScale:e.isTimeScale,seg:h,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:f===e.eventSelection},ue(h,e.todayRange,e.nowDate))))}))},h=>c(h,{elTag:"div",elClasses:["fc-timeline-more-link-inner","fc-sticky"]}))}}class Se extends y{constructor(){super(...arguments),this.slicer=new lt,this.sortEventSegs=v(or),this.harnessElRefs=new M,this.moreElRefs=new M,this.innerElRef=x(),this.state={eventInstanceHeights:{},moreLinkHeights:{}},this.handleResize=e=>{e&&this.updateSize()}}render(){let{props:e,state:t,context:r}=this,{options:i}=r,{dateProfile:l,tDateProfile:n}=e,o=this.slicer.sliceProps(e,l,n.isTimeScale?null:e.nextDayThreshold,r,l,r.dateProfileGenerator,n,r.dateEnv),a=(o.eventDrag?o.eventDrag.segs:null)||(o.eventResize?o.eventResize.segs:null)||[],d=this.sortEventSegs(o.fgEventSegs,i.eventOrder),u=st(d,i.eventMinWidth,e.timelineCoords),[h,f]=Ps(d,u,t.eventInstanceHeights,t.moreLinkHeights,i.eventOrderStrict,i.eventMaxStack),p=(o.eventDrag?o.eventDrag.affectedInstances:null)||(o.eventResize?o.eventResize.affectedInstances:null)||{};return c(E,null,c(it,{businessHourSegs:o.businessHourSegs,bgEventSegs:o.bgEventSegs,timelineCoords:e.timelineCoords,eventResizeSegs:o.eventResize?o.eventResize.segs:[],dateSelectionSegs:o.dateSelectionSegs,nowDate:e.nowDate,todayRange:e.todayRange}),c("div",{className:"fc-timeline-events fc-scrollgrid-sync-inner",ref:this.innerElRef,style:{height:f}},this.renderFgSegs(h,p,!1,!1,!1),this.renderFgSegs(Ls(a,e.timelineCoords,h),{},!!o.eventDrag,!!o.eventResize,!1)))}componentDidMount(){this.updateSize(),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){(e.eventStore!==this.props.eventStore||e.timelineCoords!==this.props.timelineCoords||t.moreLinkHeights!==this.state.moreLinkHeights)&&this.updateSize()}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateSize(){let{props:e}=this,{timelineCoords:t}=e;const r=this.innerElRef.current;e.onHeightChange&&e.onHeightChange(r,!1),t&&this.setState({eventInstanceHeights:k(this.harnessElRefs.currentMap,i=>Math.round(i.getBoundingClientRect().height)),moreLinkHeights:k(this.moreElRefs.currentMap,i=>Math.round(i.getBoundingClientRect().height))},()=>{e.onHeightChange&&e.onHeightChange(r,!0)}),e.syncParentMinHeight&&(r.parentElement.style.minHeight=r.style.height)}renderFgSegs(e,t,r,i,l){let{harnessElRefs:n,moreElRefs:o,props:a,context:d}=this,u=r||i||l;return c(E,null,e.map(h=>{let{seg:f,hcoords:p,top:g}=h;if(Array.isArray(f)){let S=ze(je(f));return c(Ns,{key:"m:"+S,elRef:o.createRef(S),hiddenSegs:f,placement:h,dateProfile:a.dateProfile,nowDate:a.nowDate,todayRange:a.todayRange,isTimeScale:a.tDateProfile.isTimeScale,eventSelection:a.eventSelection,resourceId:a.resourceId,isForcedInvisible:t})}let m=f.eventRange.instance.instanceId,b=u||!!(!t[m]&&p&&g!==null),C=me(p,d.isRtl);return c("div",{key:"e:"+m,ref:u?null:n.createRef(m),className:"fc-timeline-event-harness",style:Object.assign({visibility:b?"":"hidden",top:g||0},C)},c(nt,Object.assign({isTimeScale:a.tDateProfile.isTimeScale,seg:f,isDragging:r,isResizing:i,isDateSelecting:l,isSelected:m===a.eventSelection},ue(f,a.todayRange,a.nowDate))))}))}}Se.addStateEquality({eventInstanceHeights:L,moreLinkHeights:L});function Ls(s,e,t){if(!s.length||!e)return[];let r=Os(t);return s.map(i=>({seg:i,hcoords:e.rangeToCoords(i),top:r[i.eventRange.instance.instanceId]}))}function Os(s){let e={};for(let t of s){let{seg:r}=t;Array.isArray(r)||(e[r.eventRange.instance.instanceId]=t.top)}return e}class As extends B{constructor(){super(...arguments),this.slatsRef=x(),this.state={coords:null},this.handeEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)},this.handleCoords=e=>{this.setState({coords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t,context:r}=this,{options:i}=r,{dateProfile:l,tDateProfile:n}=e,o=_(n.slotDuration).unit;return c("div",{className:"fc-timeline-body",ref:this.handeEl,style:{minWidth:e.tableMinWidth,height:e.clientHeight,width:e.clientWidth}},c(G,{unit:o},(a,d)=>c(E,null,c(rt,{ref:this.slatsRef,dateProfile:l,tDateProfile:n,nowDate:a,todayRange:d,clientWidth:e.clientWidth,tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,onCoords:this.handleCoords,onScrollLeftRequest:e.onScrollLeftRequest}),c(Se,{dateProfile:l,tDateProfile:e.tDateProfile,nowDate:a,todayRange:d,nextDayThreshold:i.nextDayThreshold,businessHours:e.businessHours,eventStore:e.eventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,timelineCoords:t.coords,syncParentMinHeight:!0}),i.nowIndicator&&t.coords&&t.coords.isDateInRange(a)&&c("div",{className:"fc-timeline-now-indicator-container"},c(ae,{elClasses:["fc-timeline-now-indicator-line"],elStyle:ge(t.coords.dateToCoord(a),r.isRtl),isAxis:!1,date:a})))))}queryHit(e,t,r,i){let n=this.slatsRef.current.positionToHit(e);return n?{dateProfile:this.props.dateProfile,dateSpan:n.dateSpan,rect:{left:n.left,right:n.right,top:0,bottom:i},dayEl:n.dayEl,layer:0}:null}}class Us extends B{constructor(){super(...arguments),this.buildTimelineDateProfile=v(Qe),this.scrollGridRef=x(),this.state={slatCoords:null,slotCushionMaxWidth:null},this.handleSlatCoords=e=>{this.setState({slatCoords:e})},this.handleScrollLeftRequest=e=>{this.scrollGridRef.current.forceScrollLeft(0,e)},this.handleMaxCushionWidth=e=>{this.setState({slotCushionMaxWidth:Math.ceil(e)})}}render(){let{props:e,state:t,context:r}=this,{options:i}=r,l=!e.forPrint&&Ue(i),n=!e.forPrint&&_e(i),o=this.buildTimelineDateProfile(e.dateProfile,r.dateEnv,i,r.dateProfileGenerator),{slotMinWidth:a}=i,d=ot(o,a||this.computeFallbackSlotMinWidth(o)),u=[{type:"header",key:"header",isSticky:l,chunks:[{key:"timeline",content:h=>c(tt,{dateProfile:e.dateProfile,clientWidth:h.clientWidth,clientHeight:h.clientHeight,tableMinWidth:h.tableMinWidth,tableColGroupNode:h.tableColGroupNode,tDateProfile:o,slatCoords:t.slatCoords,onMaxCushionWidth:a?null:this.handleMaxCushionWidth})}]},{type:"body",key:"body",liquid:!0,chunks:[{key:"timeline",content:h=>c(As,Object.assign({},e,{clientWidth:h.clientWidth,clientHeight:h.clientHeight,tableMinWidth:h.tableMinWidth,tableColGroupNode:h.tableColGroupNode,tDateProfile:o,onSlatCoords:this.handleSlatCoords,onScrollLeftRequest:this.handleScrollLeftRequest}))}]}];return n&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"timeline",content:se}]}),c(Ge,{elClasses:["fc-timeline",i.eventOverlap===!1?"fc-timeline-overlap-disabled":""],viewSpec:r.viewSpec},c(pe,{ref:this.scrollGridRef,liquid:!e.isHeightAuto&&!e.forPrint,forPrint:e.forPrint,collapsibleWidth:!1,colGroups:[{cols:d}],sections:u}))}computeFallbackSlotMinWidth(e){return Math.max(30,(this.state.slotCushionMaxWidth||0)/e.slotsPerLabel)}}function ot(s,e){return[{span:s.slotCnt,minWidth:e||1}]}var _s=A({name:"@fullcalendar/timeline",premiumReleaseDate:"2023-11-29",deps:[K],initialView:"timelineDay",views:{timeline:{component:Us,usesMinMaxTime:!0,eventResizableFromStart:!0},timelineDay:{type:"timeline",duration:{days:1}},timelineWeek:{type:"timeline",duration:{weeks:1}},timelineMonth:{type:"timeline",duration:{months:1}},timelineYear:{type:"timeline",duration:{years:1}}}});const at="_fc:",Gs={id:String,parentId:String,children:R,title:String,businessHours:R,extendedProps:R,eventEditable:Boolean,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventConstraint:R,eventOverlap:Boolean,eventAllow:R,eventClassNames:yr,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String};function Re(s,e="",t,r){let{refined:i,extra:l}=Ye(s,Gs),n={id:i.id||at+fe(),parentId:i.parentId||e,title:i.title||"",businessHours:i.businessHours?mr(i.businessHours,r):null,ui:Sr({editable:i.eventEditable,startEditable:i.eventStartEditable,durationEditable:i.eventDurationEditable,constraint:i.eventConstraint,overlap:i.eventOverlap,allow:i.eventAllow,classNames:i.eventClassNames,backgroundColor:i.eventBackgroundColor,borderColor:i.eventBorderColor,textColor:i.eventTextColor,color:i.eventColor},r),extendedProps:Object.assign(Object.assign({},l),i.extendedProps)};if(Object.freeze(n.ui.classNames),Object.freeze(n.extendedProps),!t[n.id]){if(t[n.id]=n,i.children)for(let o of i.children)Re(o,n.id,t,r)}return n}function ct(s){return s.indexOf(at)===0?"":s}class D{constructor(e,t){this._context=e,this._resource=t}setProp(e,t){let r=this._resource;this._context.dispatch({type:"SET_RESOURCE_PROP",resourceId:r.id,propName:e,propValue:t}),this.sync(r)}setExtendedProp(e,t){let r=this._resource;this._context.dispatch({type:"SET_RESOURCE_EXTENDED_PROP",resourceId:r.id,propName:e,propValue:t}),this.sync(r)}sync(e){let t=this._context,r=e.id;this._resource=t.getCurrentData().resourceStore[r],t.emitter.trigger("resourceChange",{oldResource:new D(t,e),resource:this,revert(){t.dispatch({type:"ADD_RESOURCE",resourceHash:{[r]:e}})}})}remove(){let e=this._context,t=this._resource,r=t.id;e.dispatch({type:"REMOVE_RESOURCE",resourceId:r}),e.emitter.trigger("resourceRemove",{resource:this,revert(){e.dispatch({type:"ADD_RESOURCE",resourceHash:{[r]:t}})}})}getParent(){let e=this._context,t=this._resource.parentId;return t?new D(e,e.getCurrentData().resourceStore[t]):null}getChildren(){let e=this._resource.id,t=this._context,{resourceStore:r}=t.getCurrentData(),i=[];for(let l in r)r[l].parentId===e&&i.push(new D(t,r[l]));return i}getEvents(){let e=this._resource.id,t=this._context,{defs:r,instances:i}=t.getCurrentData().eventStore,l=[];for(let n in i){let o=i[n],a=r[o.defId];a.resourceIds.indexOf(e)!==-1&&l.push(new he(t,a,o))}return l}get id(){return ct(this._resource.id)}get title(){return this._resource.title}get eventConstraint(){return this._resource.ui.constraints[0]||null}get eventOverlap(){return this._resource.ui.overlap}get eventAllow(){return this._resource.ui.allows[0]||null}get eventBackgroundColor(){return this._resource.ui.backgroundColor}get eventBorderColor(){return this._resource.ui.borderColor}get eventTextColor(){return this._resource.ui.textColor}get eventClassNames(){return this._resource.ui.classNames}get extendedProps(){return this._resource.extendedProps}toPlainObject(e={}){let t=this._resource,{ui:r}=t,i=this.id,l={};return i&&(l.id=i),t.title&&(l.title=t.title),e.collapseEventColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?l.eventColor=r.backgroundColor:(r.backgroundColor&&(l.eventBackgroundColor=r.backgroundColor),r.borderColor&&(l.eventBorderColor=r.borderColor)),r.textColor&&(l.eventTextColor=r.textColor),r.classNames.length&&(l.eventClassNames=r.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(l,t.extendedProps):l.extendedProps=t.extendedProps),l}toJSON(){return this.toPlainObject()}}function Bs(s,e){let t=[];for(let r in s)t.push(new D(e,s[r]));return t}function zs(s){return{resource:new D(s.context,s.resource)}}const dt=Xe("id,title");function js(s,e){let{emitter:t}=e;t.hasHandlers("resourcesSet")&&t.trigger("resourcesSet",Bs(s,e))}class Fs extends y{constructor(){super(...arguments),this.refineRenderProps=Y(qs)}render(){const{props:e}=this;return c(xr.Consumer,null,t=>{let{options:r}=t,i=this.refineRenderProps({resource:e.resource,date:e.date,context:t});return c(T,Object.assign({},e,{elAttrs:Object.assign(Object.assign({},e.elAttrs),{"data-resource-id":e.resource.id,"data-date":e.date?Er(e.date):void 0}),renderProps:i,generatorName:"resourceLabelContent",customGenerator:r.resourceLabelContent,defaultGenerator:Vs,classNameGenerator:r.resourceLabelClassNames,didMount:r.resourceLabelDidMount,willUnmount:r.resourceLabelWillUnmount}))})}}function Vs(s){return s.resource.title||s.resource.id}function qs(s){return{resource:new D(s.context,s.resource),date:s.date?s.context.dateEnv.toDate(s.date):null,view:s.context.viewApi}}class Q extends y{render(){let{props:e}=this;return c(Fs,{elTag:"th",elClasses:["fc-col-header-cell","fc-resource"],elAttrs:{role:"columnheader",colSpan:e.colSpan},resource:e.resource,date:e.date},t=>c("div",{className:"fc-scrollgrid-sync-inner"},c(t,{elTag:"span",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"]})))}}class Xs extends y{constructor(){super(...arguments),this.buildDateFormat=v(Ys)}render(){let{props:e,context:t}=this,r=this.buildDateFormat(t.options.dayHeaderFormat,e.datesRepDistinctDays,e.dates.length);return c(G,{unit:"day"},(i,l)=>e.dates.length===1?this.renderResourceRow(e.resources,e.dates[0]):t.options.datesAboveResources?this.renderDayAndResourceRows(e.dates,r,l,e.resources):this.renderResourceAndDayRows(e.resources,e.dates,r,l))}renderResourceRow(e,t){let r=e.map(i=>c(Q,{key:i.id,resource:i,colSpan:1,date:t}));return this.buildTr(r,"resources")}renderDayAndResourceRows(e,t,r,i){let l=[],n=[];for(let o of e){l.push(this.renderDateCell(o,t,r,i.length,null,!0));for(let a of i)n.push(c(Q,{key:a.id+":"+o.toISOString(),resource:a,colSpan:1,date:o}))}return c(E,null,this.buildTr(l,"day"),this.buildTr(n,"resources"))}renderResourceAndDayRows(e,t,r,i){let l=[],n=[];for(let o of e){l.push(c(Q,{key:o.id,resource:o,colSpan:t.length,isSticky:!0}));for(let a of t)n.push(this.renderDateCell(a,r,i,1,o))}return c(E,null,this.buildTr(l,"resources"),this.buildTr(n,"day"))}renderDateCell(e,t,r,i,l,n){let{props:o}=this,a=l?`:${l.id}`:"",d=l?{resource:new D(this.context,l)}:{},u=l?{"data-resource-id":l.id}:{};return o.datesRepDistinctDays?c(Rr,{key:e.toISOString()+a,date:e,dateProfile:o.dateProfile,todayRange:r,colCnt:o.dates.length*o.resources.length,dayHeaderFormat:t,colSpan:i,isSticky:n,extraRenderProps:d,extraDataAttrs:u}):c(Cr,{key:e.getUTCDay()+a,dow:e.getUTCDay(),dayHeaderFormat:t,colSpan:i,isSticky:n,extraRenderProps:d,extraDataAttrs:u})}buildTr(e,t){let{renderIntro:r}=this.props;return e.length||(e=[c("td",{key:0}," ")]),c("tr",{key:t,role:"row"},r&&r(t),e)}}function Ys(s,e,t){return s||br(e,t)}class Ks{constructor(e){let t={},r=[];for(let i=0;i<e.length;i+=1){let l=e[i].id;r.push(l),t[l]=i}this.ids=r,this.indicesById=t,this.length=e.length}}class ut{constructor(e,t,r){this.dayTableModel=e,this.resources=t,this.context=r,this.resourceIndex=new Ks(t),this.rowCnt=e.rowCnt,this.colCnt=e.colCnt*t.length,this.cells=this.buildCells()}buildCells(){let{rowCnt:e,dayTableModel:t,resources:r}=this,i=[];for(let l=0;l<e;l+=1){let n=[];for(let o=0;o<t.colCnt;o+=1)for(let a=0;a<r.length;a+=1){let d=r[a],u={resource:new D(this.context,d)},h={"data-resource-id":d.id},f=["fc-resource"],p={resourceId:d.id},g=t.cells[l][o].date;n[this.computeCol(o,a)]={key:d.id+":"+g.toISOString(),date:g,extraRenderProps:u,extraDataAttrs:h,extraClassNames:f,extraDateSpan:p}}i.push(n)}return i}}class $s extends ut{computeCol(e,t){return t*this.dayTableModel.colCnt+e}computeColRanges(e,t,r){return[{firstCol:this.computeCol(e,r),lastCol:this.computeCol(t,r),isStart:!0,isEnd:!0}]}}class Zs extends ut{computeCol(e,t){return e*this.resources.length+t}computeColRanges(e,t,r){let i=[];for(let l=e;l<=t;l+=1){let n=this.computeCol(l,r);i.push({firstCol:n,lastCol:n,isStart:l===e,isEnd:l===t})}return i}}const Pe=[];class ht{constructor(){this.joinDateSelection=v(this.joinSegs),this.joinBusinessHours=v(this.joinSegs),this.joinFgEvents=v(this.joinSegs),this.joinBgEvents=v(this.joinSegs),this.joinEventDrags=v(this.joinInteractions),this.joinEventResizes=v(this.joinInteractions)}joinProps(e,t){let r=[],i=[],l=[],n=[],o=[],a=[],d="",u=t.resourceIndex.ids.concat([""]);for(let h of u){let f=e[h];r.push(f.dateSelectionSegs),i.push(h?f.businessHourSegs:Pe),l.push(h?f.fgEventSegs:Pe),n.push(f.bgEventSegs),o.push(f.eventDrag),a.push(f.eventResize),d=d||f.eventSelection}return{dateSelectionSegs:this.joinDateSelection(t,...r),businessHourSegs:this.joinBusinessHours(t,...i),fgEventSegs:this.joinFgEvents(t,...l),bgEventSegs:this.joinBgEvents(t,...n),eventDrag:this.joinEventDrags(t,...o),eventResize:this.joinEventResizes(t,...a),eventSelection:d}}joinSegs(e,...t){let r=e.resources.length,i=[];for(let l=0;l<r;l+=1){for(let n of t[l])i.push(...this.transformSeg(n,e,l));for(let n of t[r])i.push(...this.transformSeg(n,e,l))}return i}expandSegs(e,t){let r=e.resources.length,i=[];for(let l=0;l<r;l+=1)for(let n of t)i.push(...this.transformSeg(n,e,l));return i}joinInteractions(e,...t){let r=e.resources.length,i={},l=[],n=!1,o=!1;for(let a=0;a<r;a+=1){let d=t[a];if(d){n=!0;for(let u of d.segs)l.push(...this.transformSeg(u,e,a));Object.assign(i,d.affectedInstances),o=o||d.isEvent}if(t[r])for(let u of t[r].segs)l.push(...this.transformSeg(u,e,a))}return n?{affectedInstances:i,segs:l,isEvent:o}:null}}class ft extends Ke{getKeyInfo(e){let{resourceDayTableModel:t}=e,r=k(t.resourceIndex.indicesById,i=>t.resources[i]);return r[""]={},r}getKeysForDateSpan(e){return[e.resourceId||""]}getKeysForEventDef(e){let t=e.resourceIds;return t.length?t:[""]}}function Js(s,e){return pt(s,[],e,!1,{},!0).map(t=>t.resource)}function pt(s,e,t,r,i,l){let n=Qs(s,r?-1:1,e,t),o=[];return F(n,o,r,[],0,i,l),o}function F(s,e,t,r,i,l,n){for(let o=0;o<s.length;o+=1){let a=s[o],d=a.group;if(d)if(t){let u=e.length,h=r.length;if(F(a.children,e,t,r.concat(0),i,l,n),u<e.length){let f=e[u],p=f.rowSpans=f.rowSpans.slice();p[h]=e.length-u}}else{let u=d.spec.field+":"+d.value,h=l[u]!=null?l[u]:n;e.push({id:u,group:d,isExpanded:h}),h&&F(a.children,e,t,r,i+1,l,n)}else if(a.resource){let u=a.resource.id,h=l[u]!=null?l[u]:n;e.push({id:u,rowSpans:r,depth:i,isExpanded:h,hasChildren:!!a.children.length,resource:a.resource,resourceFields:a.resourceFields}),h&&F(a.children,e,t,r,i+1,l,n)}}}function Qs(s,e,t,r){let i=ei(s,r),l=[];for(let n in i){let o=i[n];o.resource.parentId||gt(o,l,t,0,e,r)}return l}function ei(s,e){let t={};for(let r in s){let i=s[r];t[r]={resource:i,resourceFields:St(i),children:[]}}for(let r in s){let i=s[r];if(i.parentId){let l=t[i.parentId];l&&mt(t[r],l.children,e)}}return t}function gt(s,e,t,r,i,l){if(t.length&&(i===-1||r<=i)){let n=ti(s,e,t[0]);gt(s,n.children,t.slice(1),r+1,i,l)}else mt(s,e,l)}function ti(s,e,t){let r=s.resourceFields[t.field],i,l;if(t.order)for(l=0;l<e.length;l+=1){let n=e[l];if(n.group){let o=wr(r,n.group.value)*t.order;if(o===0){i=n;break}else if(o<0)break}}else for(l=0;l<e.length;l+=1){let n=e[l];if(n.group&&r===n.group.value){i=n;break}}return i||(i={group:{value:r,spec:t},children:[]},e.splice(l,0,i)),i}function mt(s,e,t){let r;for(r=0;r<e.length&&!(vr(e[r].resourceFields,s.resourceFields,t)>0);r+=1);e.splice(r,0,s)}function St(s){let e=Object.assign(Object.assign(Object.assign({},s.extendedProps),s.ui),s);return delete e.ui,delete e.extendedProps,e}function ri(s,e){return s.spec===e.spec&&s.value===e.value}class Rt extends Ke{getKeyInfo(e){return Object.assign({"":{}},e.resourceStore)}getKeysForDateSpan(e){return[e.resourceId||""]}getKeysForEventDef(e){let t=e.resourceIds;return t.length?t:[""]}}function si(s,e,t){let r=e.dateSpan.resourceId,i=t.dateSpan.resourceId;r&&i&&r!==i&&(s.resourceMutation={matchResourceId:r,setResourceId:i})}function ii(s,e,t){let r=e.resourceMutation;if(r&&Ct(s,t)){let i=s.resourceIds.indexOf(r.matchResourceId);if(i!==-1){let l=s.resourceIds.slice();l.splice(i,1),l.indexOf(r.setResourceId)===-1&&l.push(r.setResourceId),s.resourceIds=l}}}function Ct(s,e){let{resourceEditable:t}=s;if(t==null){let r=s.sourceId&&e.getCurrentData().eventSources[s.sourceId];r&&(t=r.extendedProps.resourceEditable),t==null&&(t=e.options.eventResourceEditable,t==null&&(t=e.options.editable))}return t}function li(s,e){let{resourceMutation:t}=s;if(t){let{calendarApi:r}=e;return{oldResource:r.getResourceById(t.matchResourceId),newResource:r.getResourceById(t.setResourceId)}}return{oldResource:null,newResource:null}}class ni{constructor(){this.filterResources=v(oi)}transform(e,t){return t.viewSpec.optionDefaults.needsResourceData?{resourceStore:this.filterResources(t.resourceStore,t.options.filterResourcesWithEvents,t.eventStore,t.dateProfile.activeRange),resourceEntityExpansions:t.resourceEntityExpansions}:null}}function oi(s,e,t,r){if(e){let i=ai(t.instances,r),l=ci(i,t.defs);return Object.assign(l,di(l,s)),$e(s,(n,o)=>l[o])}return s}function ai(s,e){return $e(s,t=>Mr(t.range,e))}function ci(s,e){let t={};for(let r in s){let i=s[r];for(let l of e[i.defId].resourceIds)t[l]=!0}return t}function di(s,e){let t={};for(let r in s){let i;for(;(i=e[r])&&(r=i.parentId,r);)t[r]=!0}return t}function ui(s,e,t,r){if(!s){let i=r.getCurrentData();if(i.viewSpecs[i.currentViewType].optionDefaults.needsResourceData&&Ct(e,r))return!0}return s}class hi{constructor(){this.buildResourceEventUis=v(fi,L),this.injectResourceEventUis=v(pi)}transform(e,t){return t.viewSpec.optionDefaults.needsResourceData?null:{eventUiBases:this.injectResourceEventUis(e.eventUiBases,e.eventStore.defs,this.buildResourceEventUis(t.resourceStore))}}}function fi(s){return k(s,e=>e.ui)}function pi(s,e,t){return k(s,(r,i)=>i?gi(r,e[i],t):r)}function gi(s,e,t){let r=[];for(let i of e.resourceIds)t[i]&&r.unshift(t[i]);return r.unshift(s),kr(r)}let Ce=[];function be(s){Ce.push(s)}function bt(s){return Ce[s]}function mi(){return Ce}const Si={id:String,resources:R,url:String,method:String,startParam:String,endParam:String,timeZoneParam:String,extraParams:R};function Ri(s){let e;if(typeof s=="string"?e={url:s}:typeof s=="function"||Array.isArray(s)?e={resources:s}:typeof s=="object"&&s&&(e=s),e){let{refined:t,extra:r}=Ye(e,Si);bi(r);let i=Ci(t);if(i)return{_raw:s,sourceId:fe(),sourceDefId:i.sourceDefId,meta:i.meta,publicId:t.id||"",isFetching:!1,latestFetchId:"",fetchRange:null}}return null}function Ci(s){let e=mi();for(let t=e.length-1;t>=0;t-=1){let i=e[t].parseMeta(s);if(i)return{meta:i,sourceDefId:t}}return null}function bi(s){for(let e in s)console.warn(`Unknown resource prop '${e}'`)}function yi(s,e,t){let{options:r,dateProfile:i}=t;if(!s||!e)return We(r.initialResources||r.resources,i.activeRange,r.refetchResourcesOnNavigate,t);switch(e.type){case"RESET_RESOURCE_SOURCE":return We(e.resourceSourceInput,i.activeRange,r.refetchResourcesOnNavigate,t);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return wi(s,i.activeRange,r.refetchResourcesOnNavigate,t);case"RECEIVE_RESOURCES":case"RECEIVE_RESOURCE_ERROR":return Ei(s,e.fetchId,e.fetchRange);case"REFETCH_RESOURCES":return ye(s,i.activeRange,t);default:return s}}function We(s,e,t,r){if(s){let i=Ri(s);return i=ye(i,t?e:null,r),i}return null}function wi(s,e,t,r){return t&&!vi(s)&&(!s.fetchRange||!Tr(s.fetchRange,e))?ye(s,e,r):s}function vi(s){return!!bt(s.sourceDefId).ignoreRange}function ye(s,e,t){let r=bt(s.sourceDefId),i=fe();return r.fetch({resourceSource:s,range:e,context:t},l=>{t.dispatch({type:"RECEIVE_RESOURCES",fetchId:i,fetchRange:e,rawResources:l.rawResources})},l=>{t.dispatch({type:"RECEIVE_RESOURCE_ERROR",fetchId:i,fetchRange:e,error:l})}),Object.assign(Object.assign({},s),{isFetching:!0,latestFetchId:i})}function Ei(s,e,t){return e===s.latestFetchId?Object.assign(Object.assign({},s),{isFetching:!1,fetchRange:t}):s}function xi(s,e,t,r){if(!s||!e)return{};switch(e.type){case"RECEIVE_RESOURCES":return Di(s,e.rawResources,e.fetchId,t,r);case"ADD_RESOURCE":return Ii(s,e.resourceHash);case"REMOVE_RESOURCE":return ki(s,e.resourceId);case"SET_RESOURCE_PROP":return Ti(s,e.resourceId,e.propName,e.propValue);case"SET_RESOURCE_EXTENDED_PROP":return Mi(s,e.resourceId,e.propName,e.propValue);default:return s}}function Di(s,e,t,r,i){if(r.latestFetchId===t){let l={};for(let n of e)Re(n,"",l,i);return l}return s}function Ii(s,e){return Object.assign(Object.assign({},s),e)}function ki(s,e){let t=Object.assign({},s);delete t[e];for(let r in t)t[r].parentId===e&&(t[r]=Object.assign(Object.assign({},t[r]),{parentId:""}));return t}function Ti(s,e,t,r){let i=s[e];return i?Object.assign(Object.assign({},s),{[e]:Object.assign(Object.assign({},i),{[t]:r})}):s}function Mi(s,e,t,r){let i=s[e];return i?Object.assign(Object.assign({},s),{[e]:Object.assign(Object.assign({},i),{extendedProps:Object.assign(Object.assign({},i.extendedProps),{[t]:r})})}):s}function Hi(s,e){if(!s||!e)return{};switch(e.type){case"SET_RESOURCE_ENTITY_EXPANDED":return Object.assign(Object.assign({},s),{[e.id]:e.isExpanded});default:return s}}function Pi(s,e,t){let r=yi(s&&s.resourceSource,e,t),i=xi(s&&s.resourceStore,e,r,t),l=Hi(s&&s.resourceEntityExpansions,e);return{resourceSource:r,resourceStore:i,resourceEntityExpansions:l}}const Wi={resourceId:String,resourceIds:R,resourceEditable:Boolean};function Ni(s){return{resourceIds:Li(s.resourceIds).concat(s.resourceId?[s.resourceId]:[]),resourceEditable:s.resourceEditable}}function Li(s){return(s||[]).map(e=>String(e))}function Oi(s,e){let t=s.dateSpan.resourceId,r=e.dateSpan.resourceId;return t&&r?{resourceId:t}:null}z.prototype.addResource=function(s,e=!0){let t=this.getCurrentData(),r,i;s instanceof D?(i=s._resource,r={[i.id]:i}):(r={},i=Re(s,"",r,t)),this.dispatch({type:"ADD_RESOURCE",resourceHash:r}),e&&this.trigger("_scrollRequest",{resourceId:i.id});let l=new D(t,i);return t.emitter.trigger("resourceAdd",{resource:l,revert:()=>{this.dispatch({type:"REMOVE_RESOURCE",resourceId:i.id})}}),l};z.prototype.getResourceById=function(s){s=String(s);let e=this.getCurrentData();if(e.resourceStore){let t=e.resourceStore[s];if(t)return new D(e,t)}return null};z.prototype.getResources=function(){let s=this.getCurrentData(),{resourceStore:e}=s,t=[];if(e)for(let r in e)t.push(new D(s,e[r]));return t};z.prototype.getTopLevelResources=function(){let s=this.getCurrentData(),{resourceStore:e}=s,t=[];if(e)for(let r in e)e[r].parentId||t.push(new D(s,e[r]));return t};z.prototype.refetchResources=function(){this.dispatch({type:"REFETCH_RESOURCES"})};function Ai(s,e){return s.resourceId?{resource:e.calendarApi.getResourceById(s.resourceId)}:{}}function Ui(s,e){return s.resourceId?{resource:e.calendarApi.getResourceById(s.resourceId)}:{}}function _i(s,e){let r=new Rt().splitProps(Object.assign(Object.assign({},s),{resourceStore:e.getCurrentData().resourceStore}));for(let i in r){let l=r[i];if(i&&r[""]&&(l=Object.assign(Object.assign({},l),{eventStore:Dr(r[""].eventStore,l.eventStore),eventUiBases:Object.assign(Object.assign({},r[""].eventUiBases),l.eventUiBases)})),!Ir(l,e,{resourceId:i},Gi.bind(null,i)))return!1}return!0}function Gi(s,e){return Object.assign(Object.assign({},e),{constraints:Bi(s,e.constraints)})}function Bi(s,e){return e.map(t=>{let r=t.defs;if(r)for(let i in r){let l=r[i].resourceIds;if(l.length&&l.indexOf(s)===-1)return!1}return t})}function zi(s){return s.resourceId?{resourceId:s.resourceId}:{}}const ji={resources:Fi};function Fi(s,e){e.getCurrentData().resourceSource._raw!==s&&e.dispatch({type:"RESET_RESOURCE_SOURCE",resourceSourceInput:s})}const Vi={initialResources:R,resources:R,eventResourceEditable:Boolean,refetchResourcesOnNavigate:Boolean,resourceOrder:Xe,filterResourcesWithEvents:Boolean,resourceGroupField:String,resourceAreaWidth:R,resourceAreaColumns:R,resourcesInitiallyExpanded:Boolean,datesAboveResources:Boolean,needsResourceData:Boolean,resourceAreaHeaderClassNames:R,resourceAreaHeaderContent:R,resourceAreaHeaderDidMount:R,resourceAreaHeaderWillUnmount:R,resourceGroupLabelClassNames:R,resourceGroupLabelContent:R,resourceGroupLabelDidMount:R,resourceGroupLabelWillUnmount:R,resourceLabelClassNames:R,resourceLabelContent:R,resourceLabelDidMount:R,resourceLabelWillUnmount:R,resourceLaneClassNames:R,resourceLaneContent:R,resourceLaneDidMount:R,resourceLaneWillUnmount:R,resourceGroupLaneClassNames:R,resourceGroupLaneContent:R,resourceGroupLaneDidMount:R,resourceGroupLaneWillUnmount:R},qi={resourcesSet:R,resourceAdd:R,resourceChange:R,resourceRemove:R};he.prototype.getResources=function(){let{calendarApi:s}=this._context;return this._def.resourceIds.map(e=>s.getResourceById(e))};he.prototype.setResources=function(s){let e=[];for(let t of s){let r=null;typeof t=="string"?r=t:typeof t=="number"?r=String(t):t instanceof D?r=t.id:console.warn("unknown resource type: "+t),r&&e.push(r)}this.mutate({standardProps:{resourceIds:e}})};be({ignoreRange:!0,parseMeta(s){return Array.isArray(s.resources)?s.resources:null},fetch(s,e){e({rawResources:s.resourceSource.meta})}});be({parseMeta(s){return typeof s.resources=="function"?s.resources:null},fetch(s,e,t){const r=s.context.dateEnv,i=s.resourceSource.meta,l=s.range?{start:r.toDate(s.range.start),end:r.toDate(s.range.end),startStr:r.formatIso(s.range.start),endStr:r.formatIso(s.range.end),timeZone:r.timeZone}:{};Hr(i.bind(null,l),n=>e({rawResources:n}),t)}});be({parseMeta(s){return s.url?{url:s.url,method:(s.method||"GET").toUpperCase(),extraParams:s.extraParams}:null},fetch(s,e,t){const r=s.resourceSource.meta,i=Xi(r,s.range,s.context);Pr(r.method,r.url,i).then(([l,n])=>{e({rawResources:l,response:n})},t)}});function Xi(s,e,t){let{dateEnv:r,options:i}=t,l,n,o,a,d={};return e&&(l=s.startParam,l==null&&(l=i.startParam),n=s.endParam,n==null&&(n=i.endParam),o=s.timeZoneParam,o==null&&(o=i.timeZoneParam),d[l]=r.formatIso(e.start),d[n]=r.formatIso(e.end),r.timeZone!=="local"&&(d[o]=r.timeZone)),typeof s.extraParams=="function"?a=s.extraParams():a=s.extraParams||{},Object.assign(d,a),d}var yt=A({name:"@fullcalendar/resource",premiumReleaseDate:"2023-11-29",deps:[K],reducers:[Pi],isLoadingFuncs:[s=>s.resourceSource&&s.resourceSource.isFetching],eventRefiners:Wi,eventDefMemberAdders:[Ni],isDraggableTransformers:[ui],eventDragMutationMassagers:[si],eventDefMutationAppliers:[ii],dateSelectionTransformers:[Oi],datePointTransforms:[Ai],dateSpanTransforms:[Ui],viewPropsTransformers:[ni,hi],isPropsValid:_i,externalDefTransforms:[zi],eventDropTransformers:[li],optionChangeHandlers:ji,optionRefiners:Vi,listenerRefiners:qi,propSetHandlers:{resourceStore:js}}),Yi=".fc .fc-resource-timeline-divider{cursor:col-resize;width:3px}.fc .fc-resource-group{font-weight:inherit;text-align:inherit}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:var(--fc-neutral-bg-color)}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{align-items:center;display:flex;justify-content:flex-start;position:relative}.fc .fc-datagrid-cell-resizer{bottom:0;cursor:col-resize;position:absolute;top:0;width:5px;z-index:1}.fc .fc-datagrid-cell-cushion{overflow:hidden;padding:8px;white-space:nowrap}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}";Oe(Yi);function wt({depth:s,hasChildren:e,isExpanded:t,onExpanderClick:r}){let i=[];for(let n=0;n<s;n+=1)i.push(c("span",{className:"fc-icon"}));let l=["fc-icon"];return e&&(t?l.push("fc-icon-minus-square"):l.push("fc-icon-plus-square")),i.push(c("span",{className:"fc-datagrid-expander"+(e?"":" fc-datagrid-expander-placeholder"),onClick:r},c("span",{className:l.join(" ")}))),c(E,{},...i)}class Ki extends y{constructor(){super(...arguments),this.refineRenderProps=Y(Zi),this.onExpanderClick=e=>{let{props:t}=this;t.hasChildren&&this.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:t.resource.id,isExpanded:!t.isExpanded})}}render(){let{props:e,context:t}=this,{colSpec:r}=e,i=this.refineRenderProps({resource:e.resource,fieldValue:e.fieldValue,context:t});return c(T,{elTag:"td",elClasses:["fc-datagrid-cell","fc-resource"],elAttrs:{role:"gridcell","data-resource-id":e.resource.id},renderProps:i,generatorName:r.isMain?"resourceLabelContent":void 0,customGenerator:r.cellContent,defaultGenerator:$i,classNameGenerator:r.cellClassNames,didMount:r.cellDidMount,willUnmount:r.cellWillUnmount},l=>c("div",{className:"fc-datagrid-cell-frame",style:{height:e.innerHeight}},c("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},r.isMain&&c(wt,{depth:e.depth,hasChildren:e.hasChildren,isExpanded:e.isExpanded,onExpanderClick:this.onExpanderClick}),c(l,{elTag:"span",elClasses:["fc-datagrid-cell-main"]}))))}}function $i(s){return s.fieldValue||c(E,null," ")}function Zi(s){return{resource:new D(s.context,s.resource),fieldValue:s.fieldValue,view:s.context.viewApi}}class Ji extends y{render(){let{props:e,context:t}=this,{colSpec:r}=e,i={groupValue:e.fieldValue,view:t.viewApi};return c(T,{elTag:"td",elClasses:["fc-datagrid-cell","fc-resource-group"],elAttrs:{role:"gridcell",rowSpan:e.rowSpan},renderProps:i,generatorName:"resourceGroupLabelContent",customGenerator:r.cellContent,defaultGenerator:Qi,classNameGenerator:r.cellClassNames,didMount:r.cellDidMount,willUnmount:r.cellWillUnmount},l=>c("div",{className:"fc-datagrid-cell-frame fc-datagrid-cell-frame-liquid"},c(l,{elTag:"div",elClasses:["fc-datagrid-cell-cushion","fc-sticky"]})))}}function Qi(s){return s.groupValue||c(E,null," ")}class vt extends y{render(){let{props:e}=this,{resource:t,rowSpans:r,depth:i}=e,l=St(t);return c("tr",{role:"row"},e.colSpecs.map((n,o)=>{let a=r[o];if(a===0)return null;a==null&&(a=1);let d=n.field?l[n.field]:t.title||ct(t.id);return a>1?c(Ji,{key:o,colSpec:n,fieldValue:d,rowSpan:a}):c(Ki,{key:o,colSpec:n,resource:t,fieldValue:d,depth:i,hasChildren:e.hasChildren,isExpanded:e.isExpanded,innerHeight:e.innerHeight})}))}}vt.addPropsEquality({rowSpans:oe});class Et extends y{constructor(){super(...arguments),this.innerInnerRef=x(),this.onExpanderClick=()=>{let{props:e}=this;this.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:e.id,isExpanded:!e.isExpanded})}}render(){let{props:e,context:t}=this,r={groupValue:e.group.value,view:t.viewApi},i=e.group.spec;return c("tr",{role:"row"},c(T,{elTag:"th",elClasses:["fc-datagrid-cell","fc-resource-group",t.theme.getClass("tableCellShaded")],elAttrs:{role:"columnheader",scope:"colgroup",colSpan:e.spreadsheetColCnt},renderProps:r,generatorName:"resourceGroupLabelContent",customGenerator:i.labelContent,defaultGenerator:el,classNameGenerator:i.labelClassNames,didMount:i.labelDidMount,willUnmount:i.labelWillUnmount},l=>c("div",{className:"fc-datagrid-cell-frame",style:{height:e.innerHeight}},c("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner",ref:this.innerInnerRef},c(wt,{depth:0,hasChildren:!0,isExpanded:e.isExpanded,onExpanderClick:this.onExpanderClick}),c(l,{elTag:"span",elClasses:["fc-datagrid-cell-main"]})))))}}Et.addPropsEquality({group:ri});function el(s){return s.groupValue||c(E,null," ")}const tl=20;class rl extends y{constructor(){super(...arguments),this.resizerElRefs=new M(this._handleColResizerEl.bind(this)),this.colDraggings={}}render(){let{colSpecs:e,superHeaderRendering:t,rowInnerHeights:r}=this.props,i={view:this.context.viewApi},l=[];if(r=r.slice(),t){let o=r.shift();l.push(c("tr",{key:"row-super",role:"row"},c(T,{elTag:"th",elClasses:["fc-datagrid-cell","fc-datagrid-cell-super"],elAttrs:{role:"columnheader",scope:"colgroup",colSpan:e.length},renderProps:i,generatorName:"resourceAreaHeaderContent",customGenerator:t.headerContent,defaultGenerator:t.headerDefault,classNameGenerator:t.headerClassNames,didMount:t.headerDidMount,willUnmount:t.headerWillUnmount},a=>c("div",{className:"fc-datagrid-cell-frame",style:{height:o}},c(a,{elTag:"div",elClasses:["fc-datagrid-cell-cushion","fc-scrollgrid-sync-inner"]})))))}let n=r.shift();return l.push(c("tr",{key:"row",role:"row"},e.map((o,a)=>{let d=a===e.length-1;return c(T,{key:a,elTag:"th",elClasses:["fc-datagrid-cell"],elAttrs:{role:"columnheader"},renderProps:i,generatorName:"resourceAreaHeaderContent",customGenerator:o.headerContent,defaultGenerator:o.headerDefault,classNameGenerator:o.headerClassNames,didMount:o.headerDidMount,willUnmount:o.headerWillUnmount},u=>c("div",{className:"fc-datagrid-cell-frame",style:{height:n}},c("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},o.isMain&&c("span",{className:"fc-datagrid-expander fc-datagrid-expander-placeholder"},c("span",{className:"fc-icon"})),c(u,{elTag:"span",elClasses:["fc-datagrid-cell-main"]})),!d&&c("div",{className:"fc-datagrid-cell-resizer",ref:this.resizerElRefs.createRef(a)})))}))),c(E,null,l)}_handleColResizerEl(e,t){let{colDraggings:r}=this;if(e){let i=this.initColResizing(e,parseInt(t,10));i&&(r[t]=i)}else{let i=r[t];i&&(i.destroy(),delete r[t])}}initColResizing(e,t){let{pluginHooks:r,isRtl:i}=this.context,{onColWidthChange:l}=this.props,n=r.elementDraggingImpl;if(n){let o=new n(e),a,d;return o.emitter.on("dragstart",()=>{d=U(Ze(e,"tr"),"th").map(h=>h.getBoundingClientRect().width),a=d[t]}),o.emitter.on("dragmove",u=>{d[t]=Math.max(a+u.deltaX*(i?-1:1),tl),l&&l(d.slice())}),o.setAutoScrollEnabled(!1),o}return null}}class sl extends y{constructor(){super(...arguments),this.refineRenderProps=Y(zs),this.handleHeightChange=(e,t)=>{this.props.onHeightChange&&this.props.onHeightChange(Ze(e,"tr"),t)}}render(){let{props:e,context:t}=this,{options:r}=t,i=this.refineRenderProps({resource:e.resource,context:t});return c("tr",{ref:e.elRef},c(T,{elTag:"td",elClasses:["fc-timeline-lane","fc-resource"],elAttrs:{"data-resource-id":e.resource.id},renderProps:i,generatorName:"resourceLaneContent",customGenerator:r.resourceLaneContent,classNameGenerator:r.resourceLaneClassNames,didMount:r.resourceLaneDidMount,willUnmount:r.resourceLaneWillUnmount},l=>c("div",{className:"fc-timeline-lane-frame",style:{height:e.innerHeight}},c(l,{elTag:"div",elClasses:["fc-timeline-lane-misc"]}),c(Se,{dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,nextDayThreshold:e.nextDayThreshold,businessHours:e.businessHours,eventStore:e.eventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,timelineCoords:e.timelineCoords,onHeightChange:this.handleHeightChange,resourceId:e.resource.id}))))}}class il extends y{render(){let{props:e,context:t}=this,{renderHooks:r}=e,i={groupValue:e.groupValue,view:t.viewApi};return c("tr",{ref:e.elRef},c(T,{elTag:"td",elRef:e.elRef,elClasses:["fc-timeline-lane","fc-resource-group",t.theme.getClass("tableCellShaded")],renderProps:i,generatorName:"resourceGroupLaneContent",customGenerator:r.laneContent,classNameGenerator:r.laneClassNames,didMount:r.laneDidMount,willUnmount:r.laneWillUnmount},l=>c(l,{elTag:"div",elStyle:{height:e.innerHeight}})))}}class ll extends y{render(){let{props:e,context:t}=this,{rowElRefs:r,innerHeights:i}=e;return c("tbody",null,e.rowNodes.map((l,n)=>{if(l.group)return c(il,{key:l.id,elRef:r.createRef(l.id),groupValue:l.group.value,renderHooks:l.group.spec,innerHeight:i[n]||""});if(l.resource){let o=l.resource;return c(sl,Object.assign({key:l.id,elRef:r.createRef(l.id)},e.splitProps[o.id],{resource:o,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,nextDayThreshold:t.options.nextDayThreshold,businessHours:o.businessHours||e.fallbackBusinessHours,innerHeight:i[n]||"",timelineCoords:e.slatCoords,onHeightChange:e.onRowHeightChange}))}return null}))}}class nl extends y{constructor(){super(...arguments),this.rootElRef=x(),this.rowElRefs=new M}render(){let{props:e,context:t}=this;return c("table",{ref:this.rootElRef,"aria-hidden":!0,className:"fc-scrollgrid-sync-table "+t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},c(ll,{rowElRefs:this.rowElRefs,rowNodes:e.rowNodes,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,splitProps:e.splitProps,fallbackBusinessHours:e.fallbackBusinessHours,slatCoords:e.slatCoords,innerHeights:e.innerHeights,onRowHeightChange:e.onRowHeightChange}))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}componentWillUnmount(){this.props.onRowCoords&&this.props.onRowCoords(null)}updateCoords(){let{props:e}=this;e.onRowCoords&&e.clientWidth!==null&&this.props.onRowCoords(new ie(this.rootElRef.current,ol(this.rowElRefs.currentMap,e.rowNodes),!1,!0))}}function ol(s,e){return e.map(t=>s[t.id])}class al extends B{constructor(){super(...arguments),this.computeHasResourceBusinessHours=v(cl),this.resourceSplitter=new Rt,this.bgSlicer=new lt,this.slatsRef=x(),this.state={slatCoords:null},this.handleEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)},this.handleRowCoords=e=>{this.rowCoords=e,this.props.onRowCoords&&this.props.onRowCoords(e)}}render(){let{props:e,state:t,context:r}=this,{dateProfile:i,tDateProfile:l}=e,n=_(l.slotDuration).unit,o=this.computeHasResourceBusinessHours(e.rowNodes),a=this.resourceSplitter.splitProps(e),d=a[""],u=this.bgSlicer.sliceProps(d,i,l.isTimeScale?null:e.nextDayThreshold,r,i,r.dateProfileGenerator,l,r.dateEnv),h=t.slatCoords&&t.slatCoords.dateProfile===e.dateProfile?t.slatCoords:null;return c("div",{ref:this.handleEl,className:["fc-timeline-body",e.expandRows?"fc-timeline-body-expandrows":""].join(" "),style:{minWidth:e.tableMinWidth}},c(G,{unit:n},(f,p)=>c(E,null,c(rt,{ref:this.slatsRef,dateProfile:i,tDateProfile:l,nowDate:f,todayRange:p,clientWidth:e.clientWidth,tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,onCoords:this.handleSlatCoords,onScrollLeftRequest:e.onScrollLeftRequest}),c(it,{businessHourSegs:o?null:u.businessHourSegs,bgEventSegs:u.bgEventSegs,timelineCoords:h,eventResizeSegs:u.eventResize?u.eventResize.segs:[],dateSelectionSegs:u.dateSelectionSegs,nowDate:f,todayRange:p}),c(nl,{rowNodes:e.rowNodes,dateProfile:i,tDateProfile:e.tDateProfile,nowDate:f,todayRange:p,splitProps:a,fallbackBusinessHours:o?e.businessHours:null,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,innerHeights:e.rowInnerHeights,slatCoords:h,onRowCoords:this.handleRowCoords,onRowHeightChange:e.onRowHeightChange}),r.options.nowIndicator&&h&&h.isDateInRange(f)&&c("div",{className:"fc-timeline-now-indicator-container"},c(ae,{elClasses:["fc-timeline-now-indicator-line"],elStyle:ge(h.dateToCoord(f),r.isRtl),isAxis:!1,date:f})))))}queryHit(e,t){let r=this.rowCoords,i=r.topToIndex(t);if(i!=null){let l=this.props.rowNodes[i].resource;if(l){let n=this.slatsRef.current.positionToHit(e);if(n)return{dateProfile:this.props.dateProfile,dateSpan:{range:n.dateSpan.range,allDay:n.dateSpan.allDay,resourceId:l.id},rect:{left:n.left,right:n.right,top:r.tops[i],bottom:r.bottoms[i]},dayEl:n.dayEl,layer:0}}}return null}}function cl(s){for(let e of s){let t=e.resource;if(t&&t.businessHours)return!0}return!1}const Ne=30;class dl extends y{constructor(){super(...arguments),this.scrollGridRef=x(),this.timeBodyScrollerElRef=x(),this.spreadsheetHeaderChunkElRef=x(),this.rootElRef=x(),this.ensureScrollGridResizeId=0,this.state={resourceAreaWidthOverride:null},this.ensureScrollGridResize=()=>{this.ensureScrollGridResizeId&&clearTimeout(this.ensureScrollGridResizeId),this.ensureScrollGridResizeId=setTimeout(()=>{this.scrollGridRef.current.handleSizing(!1)},P.SCROLLGRID_RESIZE_INTERVAL+1)}}render(){let{props:e,state:t,context:r}=this,{options:i}=r,l=!e.forPrint&&Ue(i),n=!e.forPrint&&_e(i),o=[{type:"header",key:"header",syncRowHeights:!0,isSticky:l,chunks:[{key:"datagrid",elRef:this.spreadsheetHeaderChunkElRef,tableClassName:"fc-datagrid-header",rowContent:e.spreadsheetHeaderRows},{key:"divider",outerContent:c("td",{role:"presentation",className:"fc-resource-timeline-divider "+r.theme.getClass("tableCellShaded")})},{key:"timeline",content:e.timeHeaderContent}]},{type:"body",key:"body",syncRowHeights:!0,liquid:!0,expandRows:!!i.expandRows,chunks:[{key:"datagrid",tableClassName:"fc-datagrid-body",rowContent:e.spreadsheetBodyRows},{key:"divider",outerContent:c("td",{role:"presentation",className:"fc-resource-timeline-divider "+r.theme.getClass("tableCellShaded")})},{key:"timeline",scrollerElRef:this.timeBodyScrollerElRef,content:e.timeBodyContent}]}];n&&o.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"datagrid",content:se},{key:"divider",outerContent:c("td",{role:"presentation",className:"fc-resource-timeline-divider "+r.theme.getClass("tableCellShaded")})},{key:"timeline",content:se}]});let a=t.resourceAreaWidthOverride!=null?t.resourceAreaWidthOverride:i.resourceAreaWidth;return c(pe,{ref:this.scrollGridRef,elRef:this.rootElRef,liquid:!e.isHeightAuto&&!e.forPrint,forPrint:e.forPrint,collapsibleWidth:!1,colGroups:[{cols:e.spreadsheetCols,width:a},{cols:[]},{cols:e.timeCols}],sections:o})}forceTimeScroll(e){this.scrollGridRef.current.forceScrollLeft(2,e)}forceResourceScroll(e){this.scrollGridRef.current.forceScrollTop(1,e)}getResourceScroll(){return this.timeBodyScrollerElRef.current.scrollTop}componentDidMount(){this.initSpreadsheetResizing()}componentWillUnmount(){this.destroySpreadsheetResizing()}initSpreadsheetResizing(){let{isRtl:e,pluginHooks:t}=this.context,r=t.elementDraggingImpl,i=this.spreadsheetHeaderChunkElRef.current;if(r){let l=this.rootElRef.current,n=this.spreadsheetResizerDragging=new r(l,".fc-resource-timeline-divider"),o,a;n.emitter.on("dragstart",()=>{o=i.getBoundingClientRect().width,a=l.getBoundingClientRect().width}),n.emitter.on("dragmove",d=>{let u=o+d.deltaX*(e?-1:1);u=Math.max(u,Ne),u=Math.min(u,a-Ne),this.setState({resourceAreaWidthOverride:u},this.ensureScrollGridResize)}),n.setAutoScrollEnabled(!1)}}destroySpreadsheetResizing(){this.spreadsheetResizerDragging&&this.spreadsheetResizerDragging.destroy()}}class xt extends y{constructor(e,t){super(e,t),this.processColOptions=v(pl),this.buildTimelineDateProfile=v(Qe),this.hasNesting=v(fl),this.buildRowNodes=v(pt),this.layoutRef=x(),this.rowNodes=[],this.renderedRowNodes=[],this.buildRowIndex=v(ul),this.handleSlatCoords=r=>{this.setState({slatCoords:r})},this.handleRowCoords=r=>{this.rowCoords=r,this.scrollResponder.update(!1)},this.handleMaxCushionWidth=r=>{this.setState({slotCushionMaxWidth:Math.ceil(r)})},this.handleScrollLeftRequest=r=>{this.layoutRef.current.forceTimeScroll(r)},this.handleScrollRequest=r=>{let{rowCoords:i}=this,l=this.layoutRef.current,n=r.rowId||r.resourceId;if(i){if(n){let a=this.buildRowIndex(this.renderedRowNodes)[n];if(a!=null){let d=r.fromBottom!=null?i.bottoms[a]-r.fromBottom:i.tops[a];l.forceResourceScroll(d)}}return!0}return null},this.handleColWidthChange=r=>{this.setState({spreadsheetColWidths:r})},this.state={resourceAreaWidth:t.options.resourceAreaWidth,spreadsheetColWidths:[]}}render(){let{props:e,state:t,context:r}=this,{options:i,viewSpec:l}=r,{superHeaderRendering:n,groupSpecs:o,orderSpecs:a,isVGrouping:d,colSpecs:u}=this.processColOptions(r.options),h=this.buildTimelineDateProfile(e.dateProfile,r.dateEnv,i,r.dateProfileGenerator),f=this.rowNodes=this.buildRowNodes(e.resourceStore,o,a,d,e.resourceEntityExpansions,i.resourcesInitiallyExpanded),{slotMinWidth:p}=i,g=ot(h,p||this.computeFallbackSlotMinWidth(h));return c(Ge,{elClasses:["fc-resource-timeline",!this.hasNesting(f)&&"fc-resource-timeline-flat","fc-timeline",i.eventOverlap===!1?"fc-timeline-overlap-disabled":"fc-timeline-overlap-enabled"],viewSpec:l},c(dl,{ref:this.layoutRef,forPrint:e.forPrint,isHeightAuto:e.isHeightAuto,spreadsheetCols:hl(u,t.spreadsheetColWidths,""),spreadsheetHeaderRows:m=>c(rl,{superHeaderRendering:n,colSpecs:u,onColWidthChange:this.handleColWidthChange,rowInnerHeights:m.rowSyncHeights}),spreadsheetBodyRows:m=>c(E,null,this.renderSpreadsheetRows(f,u,m.rowSyncHeights)),timeCols:g,timeHeaderContent:m=>c(tt,{clientWidth:m.clientWidth,clientHeight:m.clientHeight,tableMinWidth:m.tableMinWidth,tableColGroupNode:m.tableColGroupNode,dateProfile:e.dateProfile,tDateProfile:h,slatCoords:t.slatCoords,rowInnerHeights:m.rowSyncHeights,onMaxCushionWidth:p?null:this.handleMaxCushionWidth}),timeBodyContent:m=>c(al,{dateProfile:e.dateProfile,clientWidth:m.clientWidth,clientHeight:m.clientHeight,tableMinWidth:m.tableMinWidth,tableColGroupNode:m.tableColGroupNode,expandRows:m.expandRows,tDateProfile:h,rowNodes:f,businessHours:e.businessHours,dateSelection:e.dateSelection,eventStore:e.eventStore,eventUiBases:e.eventUiBases,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,resourceStore:e.resourceStore,nextDayThreshold:r.options.nextDayThreshold,rowInnerHeights:m.rowSyncHeights,onSlatCoords:this.handleSlatCoords,onRowCoords:this.handleRowCoords,onScrollLeftRequest:this.handleScrollLeftRequest,onRowHeightChange:m.reportRowHeightChange})}))}renderSpreadsheetRows(e,t,r){return e.map((i,l)=>i.group?c(Et,{key:i.id,id:i.id,spreadsheetColCnt:t.length,isExpanded:i.isExpanded,group:i.group,innerHeight:r[l]||""}):i.resource?c(vt,{key:i.id,colSpecs:t,rowSpans:i.rowSpans,depth:i.depth,isExpanded:i.isExpanded,hasChildren:i.hasChildren,resource:i.resource,innerHeight:r[l]||""}):null)}componentDidMount(){this.renderedRowNodes=this.rowNodes,this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}getSnapshotBeforeUpdate(){return this.props.forPrint?{}:{resourceScroll:this.queryResourceScroll()}}componentDidUpdate(e,t,r){this.renderedRowNodes=this.rowNodes,this.scrollResponder.update(e.dateProfile!==this.props.dateProfile),r.resourceScroll&&this.handleScrollRequest(r.resourceScroll)}componentWillUnmount(){this.scrollResponder.detach()}computeFallbackSlotMinWidth(e){return Math.max(30,(this.state.slotCushionMaxWidth||0)/e.slotsPerLabel)}queryResourceScroll(){let{rowCoords:e,renderedRowNodes:t}=this;if(e){let r=this.layoutRef.current,i=e.bottoms,l=r.getResourceScroll(),n={};for(let o=0;o<i.length;o+=1){let a=t[o],d=i[o]-l;if(d>0){n.rowId=a.id,n.fromBottom=d;break}}return n}return null}}xt.addStateEquality({spreadsheetColWidths:oe});function ul(s){let e={};for(let t=0;t<s.length;t+=1)e[s[t].id]=t;return e}function hl(s,e,t=""){return s.map((r,i)=>({className:r.isMain?"fc-main-col":"",width:e[i]||r.width||t}))}function fl(s){for(let e of s)if(e.group||e.resource&&e.hasChildren)return!0;return!1}function pl(s){let e=s.resourceAreaColumns||[],t=null;e.length?s.resourceAreaHeaderContent&&(t={headerClassNames:s.resourceAreaHeaderClassNames,headerContent:s.resourceAreaHeaderContent,headerDidMount:s.resourceAreaHeaderDidMount,headerWillUnmount:s.resourceAreaHeaderWillUnmount}):e.push({headerClassNames:s.resourceAreaHeaderClassNames,headerContent:s.resourceAreaHeaderContent,headerDefault:()=>"Resources",headerDidMount:s.resourceAreaHeaderDidMount,headerWillUnmount:s.resourceAreaHeaderWillUnmount});let r=[],i=[],l=[],n=!1;for(let u of e)u.group?i.push(Object.assign(Object.assign({},u),{cellClassNames:u.cellClassNames||s.resourceGroupLabelClassNames,cellContent:u.cellContent||s.resourceGroupLabelContent,cellDidMount:u.cellDidMount||s.resourceGroupLabelDidMount,cellWillUnmount:u.cellWillUnmount||s.resourceGroupLaneWillUnmount})):r.push(u);let o=r[0];if(o.isMain=!0,o.cellClassNames=o.cellClassNames||s.resourceLabelClassNames,o.cellContent=o.cellContent||s.resourceLabelContent,o.cellDidMount=o.cellDidMount||s.resourceLabelDidMount,o.cellWillUnmount=o.cellWillUnmount||s.resourceLabelWillUnmount,i.length)l=i,n=!0;else{let u=s.resourceGroupField;u&&l.push({field:u,labelClassNames:s.resourceGroupLabelClassNames,labelContent:s.resourceGroupLabelContent,labelDidMount:s.resourceGroupLabelDidMount,labelWillUnmount:s.resourceGroupLabelWillUnmount,laneClassNames:s.resourceGroupLaneClassNames,laneContent:s.resourceGroupLaneContent,laneDidMount:s.resourceGroupLaneDidMount,laneWillUnmount:s.resourceGroupLaneWillUnmount})}let a=s.resourceOrder||dt,d=[];for(let u of a){let h=!1;for(let f of l)if(f.field===u.field){f.order=u.order,h=!0;break}h||d.push(u)}return{superHeaderRendering:t,isVGrouping:n,groupSpecs:l,colSpecs:i.concat(r),orderSpecs:d}}var El=A({name:"@fullcalendar/resource-timeline",premiumReleaseDate:"2023-11-29",deps:[K,yt,_s],initialView:"resourceTimelineDay",views:{resourceTimeline:{type:"timeline",component:xt,needsResourceData:!0,resourceAreaWidth:"30%",resourcesInitiallyExpanded:!0,eventResizableFromStart:!0},resourceTimelineDay:{type:"resourceTimeline",duration:{days:1}},resourceTimelineWeek:{type:"resourceTimeline",duration:{weeks:1}},resourceTimelineMonth:{type:"resourceTimeline",duration:{months:1}},resourceTimelineYear:{type:"resourceTimeline",duration:{years:1}}}});class gl extends ht{transformSeg(e,t,r){return t.computeColRanges(e.firstCol,e.lastCol,r).map(l=>Object.assign(Object.assign(Object.assign({},e),l),{isStart:e.isStart&&l.isStart,isEnd:e.isEnd&&l.isEnd}))}}class ml extends B{constructor(){super(...arguments),this.splitter=new ft,this.slicers={},this.joiner=new gl,this.tableRef=x(),this.isHitComboAllowed=(e,t)=>this.props.resourceDayTableModel.dayTableModel.colCnt===1||e.dateSpan.resourceId===t.dateSpan.resourceId}render(){let{props:e,context:t}=this,{resourceDayTableModel:r,nextDayThreshold:i,dateProfile:l}=e,n=this.splitter.splitProps(e);this.slicers=k(n,(a,d)=>this.slicers[d]||new Gr);let o=k(this.slicers,(a,d)=>a.sliceProps(n[d],l,i,t,r.dayTableModel));return c(Br,Object.assign({forPrint:e.forPrint,ref:this.tableRef},this.joiner.joinProps(o,r),{cells:r.cells,dateProfile:l,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,isHitComboAllowed:this.isHitComboAllowed}))}}class Sl extends ht{transformSeg(e,t,r){return[Object.assign(Object.assign({},e),{col:t.computeCol(e.col,r)})]}}class Rl extends B{constructor(){super(...arguments),this.buildDayRanges=v(Or),this.splitter=new ft,this.slicers={},this.joiner=new Sl,this.timeColsRef=x(),this.isHitComboAllowed=(e,t)=>this.dayRanges.length===1||e.dateSpan.resourceId===t.dateSpan.resourceId}render(){let{props:e,context:t}=this,{dateEnv:r,options:i}=t,{dateProfile:l,resourceDayTableModel:n}=e,o=this.dayRanges=this.buildDayRanges(n.dayTableModel,l,r),a=this.splitter.splitProps(e);this.slicers=k(a,(u,h)=>this.slicers[h]||new Ar);let d=k(this.slicers,(u,h)=>u.sliceProps(a[h],l,null,t,o));return c(G,{unit:i.nowIndicator?"minute":"day"},(u,h)=>c(Ur,Object.assign({ref:this.timeColsRef},this.joiner.joinProps(d,n),{dateProfile:l,axis:e.axis,slotDuration:e.slotDuration,slatMetas:e.slatMetas,cells:n.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:u,nowIndicatorSegs:i.nowIndicator&&this.buildNowIndicatorSegs(u),todayRange:h,onScrollTopRequest:e.onScrollTopRequest,forPrint:e.forPrint,onSlatCoords:e.onSlatCoords,isHitComboAllowed:this.isHitComboAllowed})))}buildNowIndicatorSegs(e){let t=this.slicers[""].sliceNowDate(e,this.props.dateProfile,this.context.options.nextDayThreshold,this.context,this.dayRanges);return this.joiner.expandSegs(this.props.resourceDayTableModel,t)}}class Cl extends Wr{constructor(){super(...arguments),this.flattenResources=v(Js),this.buildResourceTimeColsModel=v(bl),this.buildSlatMetas=v(Nr)}render(){let{props:e,context:t}=this,{options:r,dateEnv:i}=t,{dateProfile:l}=e,n=this.allDaySplitter.splitProps(e),o=r.resourceOrder||dt,a=this.flattenResources(e.resourceStore,o),d=this.buildResourceTimeColsModel(l,t.dateProfileGenerator,a,r.datesAboveResources,t),u=this.buildSlatMetas(l.slotMinTime,l.slotMaxTime,r.slotLabelInterval,r.slotDuration,i),{dayMinWidth:h}=r,f=!h,p=h,g=r.dayHeaders&&c(Xs,{resources:a,dates:d.dayTableModel.headerDates,dateProfile:l,datesRepDistinctDays:!0,renderIntro:f?this.renderHeadAxis:null}),m=r.allDaySlot!==!1&&(C=>c(ml,Object.assign({},n.allDay,{dateProfile:l,resourceDayTableModel:d,nextDayThreshold:r.nextDayThreshold,tableMinWidth:C.tableMinWidth,colGroupNode:C.tableColGroupNode,renderRowIntro:f?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:C.clientWidth,clientHeight:C.clientHeight,forPrint:e.forPrint},this.getAllDayMaxEventProps()))),b=C=>c(Rl,Object.assign({},n.timed,{dateProfile:l,axis:f,slotDuration:r.slotDuration,slatMetas:u,resourceDayTableModel:d,tableColGroupNode:C.tableColGroupNode,tableMinWidth:C.tableMinWidth,clientWidth:C.clientWidth,clientHeight:C.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:C.expandRows,forPrint:e.forPrint,onScrollTopRequest:this.handleScrollTopRequest}));return p?this.renderHScrollLayout(g,m,b,d.colCnt,h,u,this.state.slatCoords):this.renderSimpleLayout(g,m,b)}}function bl(s,e,t,r,i){let l=Lr(s,e);return r?new Zs(l,t,i):new $s(l,t,i)}var xl=A({name:"@fullcalendar/resource-timegrid",premiumReleaseDate:"2023-11-29",deps:[K,yt,_r],initialView:"resourceTimeGridDay",views:{resourceTimeGrid:{type:"timeGrid",component:Cl,needsResourceData:!0},resourceTimeGridDay:{type:"resourceTimeGrid",duration:{days:1}},resourceTimeGridWeek:{type:"resourceTimeGrid",duration:{weeks:1}}}});export{xl as a,El as i};
